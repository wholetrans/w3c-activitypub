<!DOCTYPE html>
<html dir="ltr" lang="zh-CN">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="generator" content="ReSpec 19.0.1">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://assets.wholetrans.org/fonts/MiSans/include.css">
  <style>
    /* --- EXAMPLES --- */
    div.example-title {
      min-width: 7.5em;
      color: #b9ab2d;
    }

    div.example-title span {
      text-transform: uppercase;
    }

    aside.example,
    div.example,
    div.illegal-example {
      padding: 0.5em;
      margin: 1em 0;
      position: relative;
      clear: both;
    }

    div.illegal-example {
      color: red
    }

    div.illegal-example p {
      color: black
    }

    aside.example,
    div.example {
      padding: .5em;
      border-left-width: .5em;
      border-left-style: solid;
      border-color: #e0cb52;
      background: #fcfaee;
    }

    aside.example div.example {
      border-left-width: .1em;
      border-color: #999;
      background: #fff;
    }

    aside.example div.example div.example-title {
      color: #999;
    }
  </style>
  <style>
    /* --- ISSUES/NOTES --- */
    div.issue-title,
    div.note-title,
    div.ednote-title,
    div.warning-title {
      padding-right: 1em;
      min-width: 7.5em;
      color: #b9ab2d;
    }

    div.issue-title {
      color: #e05252;
    }

    div.note-title,
    div.ednote-title {
      color: #2b2;
    }

    div.warning-title {
      color: #f22;
    }

    div.issue-title span,
    div.note-title span,
    div.ednote-title span,
    div.warning-title span {
      text-transform: uppercase;
    }

    div.note,
    div.issue,
    div.ednote,
    div.warning {
      margin-top: 1em;
      margin-bottom: 1em;
    }

    .note>p:first-child,
    .ednote>p:first-child,
    .issue>p:first-child,
    .warning>p:first-child {
      margin-top: 0
    }

    .issue,
    .note,
    .ednote,
    .warning {
      padding: .5em;
      border-left-width: .5em;
      border-left-style: solid;
    }

    div.issue,
    div.note,
    div.ednote,
    div.warning {
      padding: 1em 1.2em 0.5em;
      margin: 1em 0;
      position: relative;
      clear: both;
    }

    span.note,
    span.ednote,
    span.issue,
    span.warning {
      padding: .1em .5em .15em;
    }

    .issue {
      border-color: #e05252;
      background: #fbe9e9;
    }

    .note,
    .ednote {
      border-color: #52e052;
      background: #e9fbe9;
    }

    .warning {
      border-color: #f11;
      border-width: .2em;
      border-style: solid;
      background: #fbe9e9;
    }

    .warning-title:before {
      content: "⚠";
      /*U+26A0 WARNING SIGN*/
      font-size: 3em;
      float: left;
      height: 100%;
      padding-right: .3em;
      vertical-align: top;
      margin-top: -0.5em;
    }

    li.task-list-item {
      list-style: none;
    }

    input.task-list-item-checkbox {
      margin: 0 0.35em 0.25em -1.6em;
      vertical-align: middle;
    }
  </style>
  <title>ActivityPub</title>



  <style type="text/css">
    img {
      max-width: 100%;
    }
  </style>
  <style id="respec-mainstyle">
    /*****************************************************************
     * ReSpec 3 CSS
     * Robin Berjon - http://berjon.com/
     *****************************************************************/

    /* Override code highlighter background */
    .hljs {
      background: transparent !important;
    }

    /* --- INLINES --- */
    h1 abbr,
    h2 abbr,
    h3 abbr,
    h4 abbr,
    h5 abbr,
    h6 abbr,
    a abbr {
      border: none;
    }

    dfn {
      font-weight: bold;
    }

    a.internalDFN {
      color: inherit;
      border-bottom: 1px solid #99c;
      text-decoration: none;
    }

    a.externalDFN {
      color: inherit;
      border-bottom: 1px dotted #ccc;
      text-decoration: none;
    }

    a.bibref {
      text-decoration: none;
    }

    cite .bibref {
      font-style: normal;
    }

    code {
      color: #c83500;
    }

    th code {
      color: inherit;
    }

    /* --- TOC --- */

    .toc a,
    .tof a {
      text-decoration: none;
    }

    a .secno,
    a .figno {
      color: #000;
    }

    ul.tof,
    ol.tof {
      list-style: none outside none;
    }

    .caption {
      margin-top: 0.5em;
      font-style: italic;
    }

    /* --- TABLE --- */

    table.simple {
      border-spacing: 0;
      border-collapse: collapse;
      border-bottom: 3px solid #005a9c;
    }

    .simple th {
      background: #005a9c;
      color: #fff;
      padding: 3px 5px;
      text-align: left;
    }

    .simple th[scope="row"] {
      background: inherit;
      color: inherit;
      border-top: 1px solid #ddd;
    }

    .simple td {
      padding: 3px 10px;
      border-top: 1px solid #ddd;
    }

    .simple tr:nth-child(even) {
      background: #f0f6ff;
    }

    /* --- DL --- */

    .section dd>p:first-child {
      margin-top: 0;
    }

    .section dd>p:last-child {
      margin-bottom: 0;
    }

    .section dd {
      margin-bottom: 1em;
    }

    .section dl.attrs dd,
    .section dl.eldef dd {
      margin-bottom: 0;
    }

    #issue-summary>ul,
    .respec-dfn-list {
      column-count: 2;
    }

    #issue-summary li,
    .respec-dfn-list li {
      list-style: none;
    }

    details.respec-tests-details {
      margin-left: 1em;
      display: inline-block;
      vertical-align: top;
    }

    details.respec-tests-details>* {
      padding-right: 2em;
    }

    details.respec-tests-details[open] {
      z-index: 999999;
      position: absolute;
      border: thin solid #cad3e2;
      border-radius: .3em;
      background-color: white;
      padding-bottom: .5em;
    }

    details.respec-tests-details[open]>summary {
      border-bottom: thin solid #cad3e2;
      padding-left: 1em;
      margin-bottom: 1em;
      line-height: 2em;
    }

    details.respec-tests-details>ul {
      width: 100%;
      margin-top: -0.3em;
    }

    details.respec-tests-details>li {
      padding-left: 1em;
    }

    @media print {
      .removeOnSave {
        display: none;
      }
    }
  </style>
  <style>
    /*

    github.com style (c) Vasily Polovnyov <vast@whiteants.net>

    */

    .hljs {
      display: block;
      overflow-x: auto;
      padding: 0.5em;
      color: #333;
      background: #f8f8f8;
    }

    .hljs-comment,
    .hljs-quote {
      color: #998;
      font-style: italic;
    }

    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {
      color: #333;
      font-weight: bold;
    }

    .hljs-number,
    .hljs-literal,
    .hljs-variable,
    .hljs-template-variable,
    .hljs-tag .hljs-attr {
      color: #008080;
    }

    .hljs-string,
    .hljs-doctag {
      color: #d14;
    }

    .hljs-title,
    .hljs-section,
    .hljs-selector-id {
      color: #900;
      font-weight: bold;
    }

    .hljs-subst {
      font-weight: normal;
    }

    .hljs-type,
    .hljs-class .hljs-title {
      color: #458;
      font-weight: bold;
    }

    .hljs-tag,
    .hljs-name,
    .hljs-attribute {
      color: #000080;
      font-weight: normal;
    }

    .hljs-regexp,
    .hljs-link {
      color: #009926;
    }

    .hljs-symbol,
    .hljs-bullet {
      color: #990073;
    }

    .hljs-built_in,
    .hljs-builtin-name {
      color: #0086b3;
    }

    .hljs-meta {
      color: #999;
      font-weight: bold;
    }

    .hljs-deletion {
      background: #fdd;
    }

    .hljs-addition {
      background: #dfd;
    }

    .hljs-emphasis {
      font-style: italic;
    }

    .hljs-strong {
      font-weight: bold;
    }
  </style>
  <link rel="stylesheet" href="./assets/W3C-REC">
  <link rel="canonical" href="https://w3c.wholetrans.org/activitypub/">
  <script id="initialUserConfig" type="application/json">{
    "specStatus": "REC",
    "publishDate": "2018-01-23",
    "previousPublishDate": "2017-12-05",
    "previousMaturity": "PR",
    "license": "w3c-software-doc",
    "shortName": "activitypub",
    "wg": "Social Web Working Group",
    "wgURI": "https://www.w3.org/Social/WG",
    "wgPublicList": "public-socialweb",
    "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/72531/status",
    "edDraftURI": "https://w3c.github.io/activitypub/",
    "testSuiteURI": "https://test.activitypub.rocks/",
    "errata": "https://www.w3.org/wiki/ActivityPub_errata",
    "implementationReportURI": "https://activitypub.rocks/implementation-report",
    "otherLinks": [
      {
        "key": "Repository",
        "data": [
          {
            "value": "Git repository",
            "href": "https://github.com/w3c/activitypub"
          },
          {
            "value": "Issues",
            "href": "https://github.com/w3c/activitypub/issues"
          },
          {
            "value": "Commits",
            "href": "https://github.com/w3c/activitypub/commits/gh-pages"
          }
        ]
      }
    ],
    "editors": [
      {
        "name": "Christine Lemmer-Webber",
        "url": "https://dustycloud.org/",
        "w3cid": "57007"
      },
      {
        "name": "Jessica Tallon",
        "url": "https://tsyesika.se",
        "w3cid": "72695"
      }
    ],
    "authors": [
      {
        "name": "Christine Lemmer-Webber",
        "url": "https://dustycloud.org/"
      },
      {
        "name": "Jessica Tallon",
        "url": "https://tsyesika.se"
      },
      {
        "name": "Erin Shepherd",
        "url": "http://erinshepherd.net/"
      },
      {
        "name": "Amy Guy",
        "url": "https://rhiaro.co.uk/"
      },
      {
        "name": "Evan Prodromou",
        "url": "https://en.wikipedia.org/wiki/Evan_Prodromou"
      }
    ],
    "localBiblio": {
      "ActivityStreams": {
        "title": "Activity Streams 2.0",
        "href": "https://www.w3.org/TR/activitystreams-core/",
        "authors": [
          "J. Snell"
        ],
        "status": "Editors Draft",
        "publisher": "ActivityStreams Working Group"
      },
      "Activity-Vocabulary": {
        "title": "Activity Vocabulary",
        "href": "https://www.w3.org/TR/activitystreams-vocabulary/",
        "authors": [
          "J. Snell"
        ],
        "status": "Editors Draft",
        "publisher": "ActivityStreams Working Group"
      },
      "OAuth-Server-Metadata": {
        "title": "OAuth 2.0 Authorization Server Metadata",
        "href": "https://tools.ietf.org/html/draft-ietf-oauth-discovery-06",
        "authors": [
          "M. Jones",
          "N. Sakimura",
          "J. Bradley"
        ],
        "status": "Internet-Draft",
        "publisher": "OAuth Working Group"
      }
    },
    "publishISODate": "2018-01-23T00:00:00.000Z",
    "generatedSubtitle": "Recommendation 23 January 2018"
  }</script>
  <meta name="description" content="ActivityPub 协议是一个基于 [ActivityStreams] 2.0 
        数据格式的去中心化社交网络协议。它提供一套客户端到服务端的 API，用于创建、更新和删除内容，以及一套服务端间的联合 API，用于投递通知和
        内容。">
</head>

<body aria-busy="false" class="h-entry toc-sidebar">
  <div class="head">
    <p>
      <a class="logo" href="https://www.w3.org/"><img src="./assets/W3C.svg" alt="W3C" width="72" height="48"></a>
    </p>
    <p><!--_hyper: 682859076;--></p>
    <h1 class="title p-name" id="title">ActivityPub</h1>
    <h2 id="w3c-recommendation-23-january-2018"><abbr title="World Wide Web Consortium">W3C</abbr> 推荐规范 <time
        class="dt-published" datetime="2018-01-23">2018年1月23日</time></h2>
    <dl>
      <dt>当前版本:</dt>
      <dd><a class="u-url"
          href="https://www.w3.org/TR/2018/REC-activitypub-20180123/">https://www.w3.org/TR/2018/REC-activitypub-20180123/</a>
      </dd>
      <dt>当前版本的简体中文翻译:</dt>
      <dd><a class="u-url" href="https://w3c.wholetrans.org/activitypub/">https://w3c.wholetrans.org/activitypub/</a></dd>
      <dt>最新发布版本:</dt>
      <dd><a href="https://www.w3.org/TR/activitypub/">https://www.w3.org/TR/activitypub/</a></dd>
      <dt>最新编辑草案:</dt>
      <dd><a href="https://w3c.github.io/activitypub/">https://w3c.github.io/activitypub/</a></dd>
      <dt>测试套件:</dt>
      <dd><a href="https://test.activitypub.rocks/">https://test.activitypub.rocks/</a></dd>
      <dt>实现报告:</dt>
      <dd><a href="https://activitypub.rocks/implementation-report">https://activitypub.rocks/implementation-report</a>
      </dd>
      <dt>上一版本:</dt>
      <dd><a
          href="https://www.w3.org/TR/2017/PR-activitypub-20171205/">https://www.w3.org/TR/2017/PR-activitypub-20171205/</a>
      </dd>
      <dt>编者:</dt>
      <dd class="p-author h-card vcard" data-editor-id="57007"><a class="u-url url p-name fn"
          href="https://dustycloud.org/">Christine Lemmer-Webber</a></dd>
      <dd class="p-author h-card vcard" data-editor-id="72695"><a class="u-url url p-name fn"
          href="https://tsyesika.se/">Jessica Tallon</a></dd>

      <dt>作者:</dt>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://dustycloud.org/">Christine
          Lemmer-Webber</a></dd>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://tsyesika.se/">Jessica Tallon</a>
      </dd>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="http://erinshepherd.net/">Erin Shepherd</a>
      </dd>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://rhiaro.co.uk/">Amy Guy</a></dd>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn"
          href="https://en.wikipedia.org/wiki/Evan_Prodromou">Evan Prodromou</a></dd>
      <dt>译者:</dt>
      <dd class="p-author h-card vcard"><a class="u-url url p-name fn" href="https://codeword.info/">CDN18</a> @<a href="https://wholetrans.org/">全译</a></dd>
      <dt>译者声明:</dt>
      <dd>本规范的<a href="http://www.w3.org/TR/activitypub/">英文版本</a>是其唯一标准版本。其他<a href="https://www.w3.org/2003/03/Translations/byTechnology?technology=activitypub">翻译版本</a>包括本译文仅供参考。</dd>
      <dd>译者力求翻译准确，但由于专业水平和时间限制，翻译难免出错。</dd>
      <dd>欢迎发送邮件至 <a href="mailto:errata@wholetrans.org">errata@wholetrans.org</a> 提出勘误与改进建议。</dd>

      <dt>存储库:</dt>
      <dd>
        <a href="https://github.com/w3c/activitypub">
          Git 存储库
        </a>
      </dd>
      <dd>
        <a href="https://github.com/w3c/activitypub/issues">
          问题追踪
        </a>
      </dd>
      <dd>
        <a href="https://github.com/w3c/activitypub/commits/gh-pages">
          提交历史
        </a>
      </dd>
    </dl>
    <p>
      要了解自发布以来报告的任何错误或问题，请查阅
      <a href="https://www.w3.org/wiki/ActivityPub_errata"><strong>勘误表
        </strong></a>。
    </p>
    <p>
      另可参阅 <a href="https://www.w3.org/2003/03/Translations/byTechnology?technology=activitypub">
        <strong>翻译</strong></a>。
    </p>
    <p class="copyright">
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
      2018

      <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
      (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
      <a href="https://www.ercim.eu/"><abbr
          title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
      <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
      <abbr title="World Wide Web Consortium">W3C</abbr> <a
        href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
      <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive
        document license</a>
      rules apply.
    </p>
    <hr title="标题分隔栏">
  </div>
  <section id="abstract" class="introductory">
    <h2 id="abstract-0">摘要</h2>
    <p>
      ActivityPub 协议是一个基于
      [<cite><a class="bibref" href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">
          ActivityStreams</a></cite>] 2.0
      数据格式的去中心化社交网络协议。它提供一套客户端到服务端的 API，用于创建、更新和删除内容，以及一套服务端间的联合 API，用于投递通知和
      内容。
    </p>
  </section>

  <section id="sotd" class="introductory">
    <h2 id="status-of-this-document">本文档状态</h2>
    <p>
      <em>本节描述了本文档在发布时的状态。其它文档可能会取代本文档。当前 <abbr title="World Wide Web Consortium">W3C</abbr> 发布的文档列表以及本技术报告的最新版本参见 <a
          href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
          技术报告索引</a> (https://www.w3.org/TR/)。</em>
    </p>
    <p>
      本文档由 <a href="https://www.w3.org/Social/WG">社交网络工作组</a> 作为推荐规范发布。
    </p>
    <p>
      欢迎所有相关方通过工作组的 <a href="https://github.com/w3c/activitypub/issues">问题追踪看板</a> 提供实施情况、错误报告和其他意见。这些内容将由 <a
        href="https://www.w3.org/wiki/SocialCG">社交网络社区组</a> 进行讨论，并由小组成员考虑决定是否加入到本规范的未来版本。
    </p>
    <p>
      请参阅工作组的 <a href="https://activitypub.rocks/implementation-report">实现报告</a>。
    </p>
    <p>
      本文档已经过 <abbr title="World Wide Web Consortium">W3C</abbr> 会员、软件开发人员以及其他 <abbr
        title="World Wide Web Consortium">W3C</abbr> 小组和利益相关方的审核，并获指导组批准，成为 <abbr
        title="World Wide Web Consortium">W3C</abbr> 推荐规范。它是一份处于稳定版本的文档，可以作为参考资料或在其他文档中引用。<abbr
        title="World Wide Web Consortium">W3C</abbr> 在制定本推荐规范中的作用是引起大众对本规范的注意，并促进其广泛的部署。这提高了网络的功能与互操作性。
    </p>
    <p>
      本文档由遵循 <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
        专利政策</a> 的工作组编制。<abbr title="World Wide Web Consortium">W3C</abbr> 维护了一个与本小组交付成果相关的所有专利披露的<a
        href="https://www.w3.org/2004/01/pp-impl/72531/status"
        rel="disclosure">公开列表</a>；该页面还包含披露专利的说明。任何实际知晓某项专利，并认为此专利中含有其 <a
        href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">基本权利要求</a> 的个人，必须依照 <a
        href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">《W3C 专利政策》第6节</a> 进行信息披露。
    </p>
    <p>本文档受 <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">2017年3月1日的 <abbr
          title="World Wide Web Consortium">W3C</abbr> 过程文档</a> 约束。
    </p>
  </section>

  <nav id="toc">
    <h2 class="introductory" id="table-of-contents">目录</h2>
    <ol class="toc">
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#Overview" class="tocxref"><span
            class="secno">1.
          </span>概述</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#social-web-working-group"
              class="tocxref"><span class="secno">1.1 </span>社交网络工作组</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#conformance" class="tocxref"><span
            class="secno">2. </span>规范性</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#specification-profiles"
              class="tocxref"><span class="secno">2.1 </span>规范概述</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#obj" class="tocxref"><span class="secno">3.
          </span>对象</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#obj-id" class="tocxref"><span
                class="secno">3.1 </span>对象标识符</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#retrieving-objects" class="tocxref"><span
                class="secno">3.2 </span>检索对象</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#source-property" class="tocxref"><span
                class="secno">3.3 </span>源属性 (Source property)</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#actors" class="tocxref"><span
            class="secno">4.
          </span>行为体 (Actors)</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#actor-objects" class="tocxref"><span
                class="secno">4.1 </span><i>行为体</i>对象 (<i>Actor</i> objects)</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#collections" class="tocxref"><span
            class="secno">5. </span>集合</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#outbox" class="tocxref"><span
                class="secno">5.1 </span>发件箱 (Outbox)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#inbox" class="tocxref"><span
                class="secno">5.2
              </span>收件箱 (Inbox)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#followers" class="tocxref"><span
                class="secno">5.3 </span>粉丝集合 (Followers Collection)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#following" class="tocxref"><span
                class="secno">5.4 </span>关注集合 (Following Collection)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#liked" class="tocxref"><span
                class="secno">5.5
              </span>点赞集合 (Liked Collection)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#public-addressing" class="tocxref"><span
                class="secno">5.6 </span>公共寻址 (Public Addressing)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#likes" class="tocxref"><span
                class="secno">5.7
              </span>点赞列表集合 (Likes Collection)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#shares" class="tocxref"><span
                class="secno">5.8 </span>分享集合 (Shares Collection)</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions"
          class="tocxref"><span class="secno">6. </span>客户端到服务端交互</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#client-addressing" class="tocxref"><span
                class="secno">6.1 </span>客户端寻址</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#create-activity-outbox"
              class="tocxref"><span class="secno">6.2 </span>创建活动 (Create Activity)</a>
            <ol class="toc">
              <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#object-without-create"
                  class="tocxref"><span class="secno">6.2.1 </span>在不发送创建活动的情况下创建对象 (Object creation without a Create Activity)</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#update-activity-outbox"
              class="tocxref"><span class="secno">6.3 </span>更新活动 (Update Activity)</a>
            <ol class="toc">
              <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#partial-updates"
                  class="tocxref"><span class="secno">6.3.1 </span>部分更新</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#delete-activity-outbox"
              class="tocxref"><span class="secno">6.4 </span>删除活动 (Delete Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#follow-activity-outbox"
              class="tocxref"><span class="secno">6.5 </span>关注活动 (Follow Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#add-activity-outbox"
              class="tocxref"><span class="secno">6.6 </span>添加活动 (Add Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#remove-activity-outbox"
              class="tocxref"><span class="secno">6.7 </span>移除活动 (Remove Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#like-activity-outbox"
              class="tocxref"><span class="secno">6.8 </span>点赞活动 (Like Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#block-activity-outbox"
              class="tocxref"><span class="secno">6.9 </span>屏蔽活动 (Block Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#undo-activity-outbox"
              class="tocxref"><span class="secno">6.10 </span>撤销活动 (Undo Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#client-to-server-outbox-delivery"
              class="tocxref"><span class="secno">6.11 </span>投递 (Delivery)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#uploading-media" class="tocxref"><span
                class="secno">6.12 </span>上传媒体</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#server-to-server-interactions"
          class="tocxref"><span class="secno">7. </span>服务端间交互</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#delivery" class="tocxref"><span
                class="secno">7.1 </span>信息投递</a>
            <ol class="toc">
              <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#outbox-delivery"
                  class="tocxref"><span class="secno">7.1.1 </span>服务端间发件箱投递的要求</a>
              </li>
              <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#inbox-forwarding"
                  class="tocxref"><span class="secno">7.1.2 </span>从收件箱转发</a></li>
              <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#shared-inbox-delivery"
                  class="tocxref"><span class="secno">7.1.3 </span>共享收件箱投递</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#create-activity-inbox"
              class="tocxref"><span class="secno">7.2 </span>创建活动 (Create Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#update-activity-inbox"
              class="tocxref"><span class="secno">7.3 </span>更新活动 (Update Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#delete-activity-inbox"
              class="tocxref"><span class="secno">7.4 </span>删除活动 (Delete Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#follow-activity-inbox"
              class="tocxref"><span class="secno">7.5 </span>关注活动 (Follow Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#accept-activity-inbox"
              class="tocxref"><span class="secno">7.6 </span>接受活动 (Accept Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#reject-activity-inbox"
              class="tocxref"><span class="secno">7.7 </span>拒绝活动 (Reject Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#add-activity-inbox" class="tocxref"><span
                class="secno">7.8 </span>添加活动 (Add Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#remove-activity-inbox"
              class="tocxref"><span class="secno">7.9 </span>移除活动 (Remove Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#like-activity-inbox"
              class="tocxref"><span class="secno">7.10 </span>点赞活动 (Like Activity)</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#announce-activity-inbox"
              class="tocxref"><span class="secno">7.11 </span>推送（分享）活动 (Announce Activity (sharing))</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#undo-activity-inbox"
              class="tocxref"><span class="secno">7.12 </span>撤销活动 (Undo Activity)</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#i18n-concerns" class="tocxref"><span
            class="secno">A. </span>国际化</a></li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-considerations"
          class="tocxref"><span class="secno">B. </span>安全注意事项</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#authorization" class="tocxref"><span
                class="secno">B.1 </span>身份验证与授权</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-verification"
              class="tocxref"><span class="secno">B.2 </span>验证</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-localhost" class="tocxref"><span
                class="secno">B.3 </span>访问本地 URI</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-uri-schemes"
              class="tocxref"><span class="secno">B.4 </span>URI 方案</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-recursive-objects"
              class="tocxref"><span class="secno">B.5 </span>递归式对象</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-spam" class="tocxref"><span
                class="secno">B.6 </span>骚扰信息</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-federation-dos"
              class="tocxref"><span class="secno">B.7 </span>联合式拒绝服务攻击</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-c2s-ratelimiting"
              class="tocxref"><span class="secno">B.8 </span>客户端到服务端的请求速率限制</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-c2s-response-dos"
              class="tocxref"><span class="secno">B.9 </span>客户端到服务端的响应拒绝服务攻击</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-sanitizing-content"
              class="tocxref"><span class="secno">B.10 </span>内容清理</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#security-not-displaying-bto-bcc"
              class="tocxref"><span class="secno">B.11 </span>不显示 bto 与 bcc 属性</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#acknowledgements" class="tocxref"><span
            class="secno">C. </span>致谢</a></li>
      <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#references" class="tocxref"><span
            class="secno">D.
          </span>资料引用</a>
        <ol class="toc">
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#normative-references"
              class="tocxref"><span class="secno">D.1 </span>规范性引用</a></li>
          <li class="tocline"><a href="https://w3c.wholetrans.org/activitypub/#informative-references"
              class="tocxref"><span class="secno">D.2 </span>资料性引用</a></li>
        </ol>
      </li>
    </ol>
  </nav>

  <section id="Overview">
    <!--OddPage-->
    <h2 id="x1-overview"><span class="secno">1. </span>概述</h2>

    <p>ActivityPub 协议有两部分：</p>

    <ul>
      <li>
        <b>服务端之间进行联合的协议</b>
        （以便去中心化的网站相互共享信息）
      </li>
      <li>
        <b>客户端到服务端的协议</b>
        （以便用户，包括真实用户、机器人以及其他自动化进程，
        通过其在服务器上的账户，使用手机、桌面端或网页应用等
        采用 ActivityPub 进行通信）
      </li>
    </ul>

    <p>
      ActivityPub 的实现可以只实现其中一种，也可以两种都实现。
      不过，一旦实现了其中一种，实现另一种并不会太复杂，
      两者都有诸多好处（使你的网站成为去中心化社交网络的一部分，
      并能够使用能在各种社交网站上运行的客户端和客户端库）。
    </p>

    <p>
      在 ActivityPub 中，用户通过其在服务器上的帐户以“<a href="https://w3c.wholetrans.org/activitypub/#actors">行为体</a>”的形式表示。
      用户在不同服务器上的帐户对应于不同的行为体。
      每个行为体都具有：
    </p>

    <ul>
      <li><b>一个<code>inbox</code>（收件箱）：</b>用于接收来自外界的消息</li>
      <li><b>一个<code>outbox</code>（发件箱）：</b>用于向外界发送消息</li>
    </ul>

    <p>
      <img src="./assets/tutorial-1.png" alt="具有收件箱与发件箱的行为体示意图">
    </p>

    <p>
      它们都是端点，或者说，是在 ActivityPub 行为体的 ActivityStreams 描述中列出的 URL。
      （稍后详细讨论 ActivityStreams）。
    </p>

    <p>
      以下是我们的朋友小A的记录示例：
    </p>

    <div class="example">
      <div class="example-title marker"><span>示例 1</span></div>
      <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Person"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Alyssa P. Hacker"</span>,
 <span class="hljs-attr">"preferredUsername"</span>: <span class="hljs-string">"alyssa"</span>,
 <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"一枚来自 MIT 的 Lisp 爱好者"</span>,
 <span class="hljs-attr">"inbox"</span>: <span class="hljs-string">"https://social.example/alyssa/inbox/"</span>,
 <span class="hljs-attr">"outbox"</span>: <span class="hljs-string">"https://social.example/alyssa/outbox/"</span>,
 <span class="hljs-attr">"followers"</span>: <span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
 <span class="hljs-attr">"following"</span>: <span class="hljs-string">"https://social.example/alyssa/following/"</span>,
 <span class="hljs-attr">"liked"</span>: <span class="hljs-string">"https://social.example/alyssa/liked/"</span>}</pre>
    </div>

    <p>
      ActivityPub使用[<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]作为其术语表。
      这很好，因为ActivityStreams已经包含了您在社交网络中表示所有活动和内容所需的常用术语。
      ActivityStreams很可能已经涵盖了您需要的所有术语，不过即使没有，您也可以通过[<cite><a class="bibref" href="https://w3c.wholetrans.org/activitypub/#bib-JSON-LD">JSON-LD</a></cite>]扩展ActivityStreams。
      如果您了解JSON-LD，您可以利用JSON-LD提供的优秀的关联数据方法。
      如果不了解，也不用担心，JSON-LD文档与ActivityStreams都可以按照传统的JSON来理解。
      （当你需要添加扩展时，JSON-LD会真正发挥作用）。
    </p>

    <p>
      好的，我们考虑以下场景：
      小A想和她的朋友们聊天，她的朋友们也想和她聊天。
      此时，“收件箱”与“发件箱”可以帮助我们实现这一需求。
      它们在 GET 和 POST 请求中的行为不同。
      我们看一下它们是如何运作的：
    </p>

    <p>
      <img src="./assets/tutorial-2.png"
        alt="行为体的消息在外部世界、收件箱与发件箱之间流动的示意图">
    </p>

    <p>
      总结一下：
    </p>

    <ul>
      <li>
        您可以通过向某人的收件箱发送POST请求来向他们发送消息
        （仅限服务端间通信/联合...这种行为<em>就是</em>联合！）
      </li>
      <li>
        您可以向自己的收件箱发送GET请求以读取最新消息
        （客户端到服务端；这相当于读取您的社交网络信息流）
      </li>
      <li>
        您可以向自己的发件箱发送POST请求，将消息发送给全世界
        （客户端到服务端）
      </li>
      <li>
        您可以发送GET请求阅读某人的发件箱内容，查看他们发布了哪些消息
        （或至少查看您有权限查看的消息内容）。
        （客户端到服务端和/或服务端间均可执行）
      </li>
    </ul>

    <p>
      当然，如果最后一种情况（向某人的发件箱发送 GET 请求）是查看别人发送消息的唯一方式，这就不是一个高效的联合协议了！
      实际上，联合通常由服务端进行，服务端将行为体要发送的消息发送到其他服务器上行为体的收件箱中。
    </p>

    <p>
      让我们看一个例子。
      假设小A想和她的朋友小B叙旧。
      她最近借给他一本书，想让他读完后还给她。
      以下是她撰写的消息，以 ActivityStreams 对象的形式呈现：
    </p>

    <div class="example">
      <div class="example-title marker"><span>示例 2</span></div>
      <pre class="highlight json hljs" aria-busy="false"
        aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"content"</span>: <span class="hljs-string">"话说，我借你那本书你读完了没？"</span>}</pre>
    </div>

    <p>
      这是一条发给小B的消息（note）。
      小A将这条消息 POST 到自己的发件箱。
    </p>

    <p>
      <img src="./assets/tutorial-3.png" alt="行为体向自身发件箱发送消息的示意图">
    </p>

    <p>
      由于这是一个非活动对象，服务器会识别出这是一个新创建的对象，并将其包装在一个创建活动（Create actiivty）中。
      （在ActivityPub中传递的活动通常遵循某个行为体对某个对象执行某种活动的模式。
      在本例中，此活动是由一个Person发布的针对消息对象的创建活动）。
    </p>

    <div class="example">
      <div class="example-title marker"><span>示例 3</span></div>
      <pre class="highlight json hljs" aria-busy="false"
        aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/a29a6843-9feb-4c74-a7f7-081b9c9201d3"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/49e2d03d-b53a-4c4c-a95c-94a6abf45a19"</span>,
            <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
            <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
            <span class="hljs-attr">"content"</span>: <span class="hljs-string">"话说，我借你那本书你读完了没？"</span>}}</pre>
    </div>

    <p>
      小A的服务器查找小B的 ActivityStreams 行为体对象，找到他的收件箱端点后，将小A的消息对象 POST 到他的收件箱。
    </p>

    <p>
      <img src="./assets/tutorial-4.png" alt="服务端向外站行为体收件箱发送消息的示意图">
    </p>

    <p>
      严格来说，这分为两个独立的步骤……一个是从客户端到服务端的通信，
      另一个是服务端之间的通信（联合）。但是，在本例中我们同时使用了这两种方式，
      因此可以抽象地将其理解为一个消息从发件箱到收件箱的传递端过程：
    </p>

    <p>
      <img src="./assets/tutorial-5.png" alt="消息从一个行为体的发件箱流向另一行为体的收件箱的示意图">
    </p>

    <p>
      很好，我们继续上面的场景示例。
      一段时间后，小A检查了她收到的新消息。
      她的手机通过 GET 请求轮询她的收件箱，结果在一堆朋友发布的猫咪视频
      和她姐姐发的侄子的照片中，她看到了如下内容：
    </p>

    <div class="example">
      <div class="example-title marker"><span>示例 4</span></div>
      <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{"@context": "https://www.w3.org/ns/activitystreams",
 "type": "Create",
 "id": "https://chatty.example/ben/p/51086",
 "to": ["https://social.example/alyssa/"],
 "actor": "https://chatty.example/ben/",
 "object": {"type": "Note",
            "id": "https://chatty.example/ben/p/51085",
            "attributedTo": "https://chatty.example/ben/",
            "to": ["https://social.example/alyssa/"],
            "inReplyTo": "https://social.example/alyssa/posts/49e2d03d-b53a-4c4c-a95c-94a6abf45a19",
            "content": "&lt;p&gt;哦哦, 不好意思, 我明天就还你。&lt;/p&gt;
                        &lt;p&gt;我在看注册机那一部分，我很久没写过这个了。&lt;/p&gt;"}}</pre>
    </div>

    <p>小A松了一口气，赞了小B的帖文：</p>

    <div class="example">
      <div class="example-title marker"><span>示例 5</span></div>
      <pre class="highlight json hljs" aria-busy="false" aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/5312e10e-5110-42e5-a09b-934882b3ecec"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://chatty.example/ben/"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://chatty.example/ben/p/51086"</span>}</pre>
    </div>

    <p>
      她将此消息POST到她的发件箱。
      （由于这是一个活动，她的服务器不需要将其封装在创建对象中）。
    </p>

    <p>
      由于感到很高兴，小A决定向她的关注者发布一条公开消息。
      很快，以下消息被发送给她关注者集合中的所有成员，并且由于消息的目标地址包含特殊的公共（Public）组，任何人都可以读取这条消息。
    </p>

    <div class="example">
      <div class="example-title marker"><span>示例 6</span></div>
      <pre class="highlight json hljs" aria-busy="false"
        aria-live="polite">{<span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/9282e9cc-14d0-42b3-a758-d6aeca6c876b"</span>,
 <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
        <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>],
 <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
 <span class="hljs-attr">"object"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://social.example/alyssa/posts/d18c55d4-8a63-4181-9745-4e6cf7938fa1"</span>,
            <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://social.example/alyssa/"</span>,
            <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://social.example/alyssa/followers/"</span>,
                   <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>],
            <span class="hljs-attr">"content"</span>: <span class="hljs-string">"有借有还，再借不难 :)"</span>}}</pre>
    </div>

    <section id="social-web-working-group" inlist="" rel="schema:hasPart" resource="#social-web-working-group">
      <h3 property="schema:name" id="x1-1-social-web-working-group"><span class="secno">1.1 </span>社交网络工作组</h3>
      <div datatype="rdf:HTML" property="schema:description">
        <p>
          <a href="https://w3c.wholetrans.org/activitypub/#Overview">ActivityPub</a> 是社交网络工作组正在制定的几个相关规范之一。
          对其他方法与补充协议感兴趣的实现者应查阅[<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-Micropub">Micropub</a></cite>]及其概述文档
          [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-Social-Web-Protocols">社交网络协议</a></cite>]。
        </p>
      </div>
    </section>
  </section>

  <section id="conformance"><!--OddPage-->
    <h2 id="x2-conformance"><span class="secno">2. </span>规范性</h2>
    <p>
      除标记为非规范性的章节外，本规范中的所有撰写指引、图表、示例和注释都是非规范性的。规范中的其他所有内容均为规范性内容。
    </p>
    <p id="respecRFC2119">以下关键词 <em class="rfc2119">可以</em>、<em class="rfc2119">必须</em>、<em
      class="rfc2119">禁止</em>、<em class="rfc2119">应当</em>以及<em class="rfc2119">不应当</em>，
    应按照 [<cite><a class="bibref"
        href="https://w3c.wholetrans.org/activitypub/#bib-RFC2119">RFC2119</a></cite>] 中的描述进行解释。
    </p>

    <section id="specification-profiles">
      <h3 id="x2-1-specification-profiles"><span class="secno">2.1 </span>规范概述</h3>
      <p>
        本规范定义了两套紧密相关且相互作用的协议：
      </p>
      <dl>
        <dt>客户端到服务端的协议，或称"社交API"</dt>
        <dd>
          该协议允许客户端<i>代表</i>用户执行操作。例如，移动设备应用程序使用此协议与用户的行为体的社交信息流互动。
        </dd>
        <dt>服务端到服务端到协议，或称"联合协议"</dt>
        <dd>
          该协议用于在不同服务器上的行为体之间分发活动，将它们连接到同一份社交图谱中。
        </dd>
      </dl>
      <p>
        ActivityPub规范的设计使得实现了这些协议中的一个后，支持另一个协议所需的额外工作将非常少。
        但是，服务端仍可以仅实现其中一个协议。
        这带来了三个一致性类别：
      </p>
      <dl>
        <dt>符合ActivityPub标准的客户端</dt>
        <dd>
          此称号适用于实现了客户端到服务端协议客户端部分的全部内容的任何实现。
        </dd>
        <dt>符合ActivityPub标准的服务端</dt>
        <dd>
          此称号适用于实现了客户端到服务端协议服务端部分的全部内容的任何实现。
        </dd>
        <dt>符合ActivityPub标准的联合式服务端</dt>
        <dd>
          此称号适用于实现了联合协议的全部内容的任何实现。
        </dd>
      </dl>
      <p>
        规范的某个部分仅适用于联合协议的实现时，均会明确指出。
        此外，在指定要求时，会明确说明这些要求是针对客户端还是服务端（对于客户端到服务端协议而言），或是指服务端到服务端协议中的发送方或接收方服务器。
      </p>
    </section>
  </section>

  <section id="obj">
    <!--OddPage-->
    <h2 id="x3-objects"><span class="secno">3. </span>对象</h2>
    <p>
      对象是[<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]和
      ActivityPub两者构建的核心概念。
      对象通常嵌套在活动中，包含在集合（Collections）的流中，而集合本身是对象的子类。
      请参阅[<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-Activity-Vocabulary">活动术语表</a></cite>]
      文档，
      特别是
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#types">核心类</a>部分；
      ActivityPub严格遵从该术语表的映射。
    </p>
    <p>
      除ActivityStreams提供的术语外，ActivityPub定义了一些额外的术语。
      这些额外术语在ActivityPub的
      <a href="https://www.w3.org/TR/json-ld/#the-context">JSON-LD 上下文</a>
      中定义，地址为
      <code>https://www.w3.org/ns/activitystreams</code>。
      实现者<em class="rfc2119" title="SHOULD">应当</em>在其对象定义中包含ActivityPub上下文。
      实现者<em class="rfc2119" title="MAY">可以</em>根据需要添加附加上下文。
    </p>
    <p>
      ActivityPub 沿用了与 ActivityStreams 相同的
      <a href="https://www.w3.org/TR/activitystreams-core/#urls">
        URI / IRI 约定</a>。
    </p>
    <p>
      服务端<em class="rfc2119" title="SHOULD">应当</em>验证其接收的内容，以避免内容欺骗攻击。
      （服务端至少应该做到检查对象是否按原始状态接收，但如果可能，使用签名等机制会更好）。
      本文档尚未权威性地指定特定的验证机制，但您可参阅<a href="https://w3c.wholetrans.org/activitypub/#security-considerations">安全注意事项</a>以获取一些建议和最佳实践。
    </p>
    <div class="informative">
      例如，如果 example.com 收到活动
      <div class="example">
        <div class="example-title marker"><span>示例 7</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://hatchat.example/sarah/"</span>,
         <span class="hljs-string">"https://example.com/peeps/john/"</span>],
  <span class="hljs-attr">"object"</span>: {
    <span class="hljs-attr">"@context"</span>: {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>},
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.org/~alice/note/23"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
    <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://example.org/~alice"</span>,
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"我是一只羊"</span>
  }
}</pre>
      </div>
      它应该解引用 <code>id</code> 以确保其存在、为有效对象，且没有错误地表示该对象。
      （在本例中，小M可能正在伪造一个据称由小A发布的对象）。
      </div>
      <section id="obj-id">
      <h3 id="x3-1-object-identifiers"><span class="secno">3.1 </span>对象标识符</h3>
      <p>
        [<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 中的所有对象都应该具有唯一的全局标识符。
        ActivityPub 扩展了此要求；以 ActivityPub 协议分发的所有对象<em class="rfc2119" title="MUST">必须</em>具有唯一的全局标识符，除非它们是有意被设为瞬态的（例如某些类型的聊天消息或游戏通知等短生命周期且不需要能够被查找的活动）。
        这些标识符必须属于以下类型之一：
      </p>
      <ol>
        <li>
          可公开解引用的 URI，如 HTTPS URI，其权限属于其源服务器。
          （面向公众的内容<em class="rfc2119" title="SHOULD">应</em>使用 HTTPS URI）。
        </li>
        <li>
          显式指定为 JSON <code>null</code> 对象的 ID，这意味着该对象是一个匿名对象（作为其上级上下文的一部分）
        </li>
      </ol>
      <p>
        在服务端间通信中发布的活动<em class="rfc2119" title="MUST">必须</em>提供标识符，除非该活动是有意被设为瞬态的。
        但是，对于客户端到服务器的通信，接收到没有指定 <code>id</code> 的对象的服务器<em class="rfc2119" title="SHOULD">应</em>在行为体的命名空间中分配一个对象 ID 并将其附加到接收到的对象之上。
      </p>
      <p>所有对象都具有以下属性：</p>
      <dl>
        <dt>id</dt>
        <dd>
          对象的唯一全局标识符（除非对象是瞬态的，在此情形下 <code>id</code> <em class="rfc2119" title="MAY">可以</em>省略）。
        </dd>
        <dt>type</dt>
        <dd>
          对象的类型。
        </dd>
      </dl>
    </section>

    <section id="retrieving-objects">
      <h3 id="x3-2-retrieving-objects"><span class="secno">3.2 </span>检索对象</h3>
      <p>
        可以针对对象的<code>id</code>属性使用HTTP GET方法以检索活动。
        服务器<em class="rfc2119" title="MAY">可以</em>按照[<cite><a
            class="bibref" href="https://w3c.wholetrans.org/activitypub/#bib-RFC7231">RFC7231</a></cite>]中的定义使用HTTP内容协商机制
        来选择响应请求时返回的数据类型，
        但<em class="rfc2119" title="MUST">必须</em>在响应
        <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
        时给出ActivityStreams对象表示格式，
        并<em class="rfc2119" title="SHOULD">应当</em>在响应
        <code>application/activity+json</code>时也给出ActivityStreams表示格式。
        客户端在检索活动时<em class="rfc2119" title="MUST">必须</em>指定一个带有
        <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
        媒体类型的<code>Accept</code>标头。
      </p>
      <p>
        服务端<em class="rfc2119" title="MAY">可以</em>对不符合上述要求的请求实施其他行为。
        （例如，服务器可能会实现额外的遗留协议，或
        使用相同的URI同时提供资源的HTML和ActivityStreams格式）。
      </p>
      <p>
        服务端<em class="rfc2119" title="MAY">可以</em>根据<a href="https://w3c.wholetrans.org/activitypub/#authorization" class="sec-ref"><span class="secno">B.1</span>
          <span class="sec-title">身份验证和授权</span></a>中的规定要求身份验证，
        并且可以额外地实现其自身的授权规则。
        对于未通过身份验证检查的请求，服务器<em class="rfc2119" title="SHOULD">应当</em>返回适当的HTTP错误代码，
        或者在对象的存在被认为是私密的情况下返回403 Forbidden错误码。
        如果源服务器不希望披露私密目标的存在，<em class="rfc2119" title="MAY">可以</em>改为返回404 Not Found状态码。
      </p>
    </section>

    <section id="source-property">
      <h3 id="x3-3-the-source-property"><span class="secno">3.3 </span>源属性（Source property）</h3>
      <p>
        在[<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-Activity-Vocabulary">Activity-Vocabulary</a></cite>]
        中定义的所有属性之外，ActivityPub 通过源属性（<code>source</code>属性）扩展了对象（<code>Object</code>）。
        <code>source</code>属性作为一种出处形式，旨在传达某种来源，用于派生 <code>content</code> 标记，或支持客户端的后续编辑。
        通常情况下，客户端会从<code>source</code>转换到<code>content</code>，而不是从<code>content</code>转换为<code>source</code>。
      </p>
      <p>
        <code>source</code>的值本身就是一个对象，
        使用其自身的<code>content</code>和<code>mediaType</code>字段提供来源信息。
      </p>
      <div class="example">
        <div class="example-title marker"><span>示例 8</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"http://postparty.example/p/2415"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"&lt;p&gt;草莓 &lt;em&gt;十分地&lt;/em&gt; 美味！&lt;/p&gt;"</span>,
  <span class="hljs-attr">"source"</span>: {
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"草莓 *十分地* 美味！"</span>,
    <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"text/markdown"</span>}
}</pre>
      </div>
      <div class="note">
        <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注</span><span
          style="text-transform: none">：如何应对客户端无法有效处理媒体类型的情形？</span></div>
      <div class="">
        <p>
          通常情况下，最好让用户用最初撰写内容的源格式编辑原始文章。
          但客户端不一定能为所有源类型提供可靠的友好界面，另外，由于客户端负责将<code>source</code>转换为<code>content</code>，
          某些客户端可能会使用其他客户端不知道如何处理的媒体类型。
          尽管客户端理论上可以提供可编辑的<code>content</code>标记并忽略源格式，但这意味着用户在今后的修改中将丢失其首选的理想<code>source</code>格式。
          因此，这样做的客户端应当提供一个微不足道的警告，说明原始源格式未被识别并将被忽略。
        </p>
        <p>
          举例来说，小A喜欢使用自己开发的Emacs客户端，通过<a href="http://orgmode.org/">Org mode</a>在她的ActivityPub博客上发文。
          后来她转而使用手机客户端编辑，而该客户端完全不知道<code>text/x-org</code>是什么，也不知道如何将其渲染为HTML，
          所以它提供了一个文本框来编辑原始的<code>content</code>。
          编辑区上方会显示一个有帮助的警告："这最初是用另一种我们无法处理的标记语言编写的。如果您进行编辑，将会丢失原始来源文本！"
          小A认为修复小小的拼写错误不值得失去她精心制作的org-mode标记，于是决定等到回家再进行更新。
        </p>
      </div>
    </section>
  </section>

  <section id="actors">
    <!--OddPage-->
    <h2 id="x4-actors"><span class="secno">4. </span>行为体</h2>
    <p>
      ActivityPub 行为体通常是
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#actor-types">
        ActivityStreams 行为体类型</a> 之一，
      但并非必须如此。例如，
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-profile">
        账户</a> 对象
      可以作为行为体，也可作为一个从 ActivityStreams 扩展的类型。
      <a href="https://w3c.wholetrans.org/activitypub/#retrieving-objects">检索</a>行为体的方式与检索 ActivityPub 中的任何其他对象相同。
      与其他 ActivityStreams 对象一样，行为体拥有一个 <code>id</code>，
      它是一个 URI。
      当直接输入到用户界面（例如登录表单）时，最好支持简化的命名方式。
      为此，<em class="rfc2119" title="SHOULD">应当</em> 执行以下 ID 规范化操作：
    </p>
    <ol>
      <li>
        如果输入的 ID 是有效的 URI，则直接使用它。
      </li>
      <li>
        如果用户似乎没有为一个本来有效的 URI 添加协议头，例如
        <code>example.org/alice/</code>，客户端<em class="rfc2119" title="MAY">可以</em>尝试回落到
        一个默认协议，最好是 <code>https</code>。
      </li>
      <li>
        否则，输入的值应视为无效。
      </li>
    </ol>

    <p>
      确定了行为体的 URI 后，应当对其进行解引用。
    </p>

    <div class="note">
      <div role="heading" class="note-title marker" id="h-note-0" aria-level="3"><span>注意</span></div>
      <div class="">
        ActivityPub 没有明确规定“用户”与行为体之间的特定关系；可以采取多种配置方式。
        可以有多个人类用户或组织用户控制一个行为体，也可以是一个人类或组织控制多个行为体。
        同样地，行为体也可以代表一个软件，例如机器人，或一个自动化流程。
        更详细的“用户”建模，例如关联由同一实体控制的行为体，或允许同一行为体以多个账户或面貌呈现，由具体实现自行决定。
      </div>
    </div>

    <section id="actor-objects">
      <h3 id="x4-1-actor-objects"><span class="secno">4.1 </span><i>行为体</i>对象</h3>
      <p>
        除必须包含
        <a href="https://w3c.wholetrans.org/activitypub/#obj-id" class="sec-ref"><span class="secno">3.1</span> <span
            class="sec-title">对象标识符</span></a>规定的属性外，
            <i>行为体</i> 对象还<em class="rfc2119" title="MUST">必须</em>包含以下属性：
      </p>
      <dl>
        <dt id="inbox-property">收件箱</dt>
        <dd>
          对一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]
          <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
            <code>OrderedCollection</code></a>
          的引用，包含该<i>行为体</i>接收到的所有消息；详见
          <a href="https://w3c.wholetrans.org/activitypub/#inbox" class="sec-ref"><span class="secno">5.2</span> <span
              class="sec-title">收件箱</span></a>。
        </dd>
        <dt id="outbox-property">发件箱</dt>
        <dd>
          对一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]
          <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
            <code>OrderedCollection</code></a>
          的引用，包含该<i>行为体</i>发送的所有消息；详见
          <a href="https://w3c.wholetrans.org/activitypub/#outbox" class="sec-ref"><span class="secno">5.1</span> <span
              class="sec-title">发件箱</span></a>。
        </dd>
      </dl>
      <p>
        实现者 <em class="rfc2119" title="SHOULD">应当</em> 另外提供以下属性：
      </p>
      <dl>
        <dt id="following-property">following（关注）</dt>
        <dd>
          一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，
          包含该<i>行为体</i>关注的所有<i>行为体</i>；详见
          <a href="https://w3c.wholetrans.org/activitypub/#following" class="sec-ref"><span
              class="secno">5.4</span> <span class="sec-title">关注集合</span></a>。
        </dd>
        <dt id="followers-property">followers（粉丝）</dt>
        <dd>
          一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，
          包含关注该<i>行为体</i>的所有<i>行为体</i>；详见
          <a href="https://w3c.wholetrans.org/activitypub/#followers" class="sec-ref"><span
              class="secno">5.3</span> <span class="sec-title">粉丝集合</span></a>。
        </dd>
      </dl>
      <p>
        实现者 <em class="rfc2119" title="MAY">可以</em> 提供以下属性：
      </p>
      <dl>
        <dt id="liked-property">liked（点赞）</dt>
        <dd>
          一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，
          包含该<i>行为体</i>点赞的所有对象；详见
          <a href="https://w3c.wholetrans.org/activitypub/#liked" class="sec-ref"><span
              class="secno">5.5</span> <span class="sec-title">点赞集合</span></a>。
        </dd>
      </dl>
      <h3 id="x4-1-actor-objects"><span class="secno">4.1 </span><i>行为体</i> 对象</h3>
      <p>
        除 <a href="https://w3c.wholetrans.org/activitypub/#obj-id" class="sec-ref"><span class="secno">3.1</span> <span
            class="sec-title">对象标识符</span></a> 中强制要求的属性外，行为体对象<em class="rfc2119" title="MUST">必须</em> 具有以下属性：
      </p>
      <dl>
        <dt id="inbox-property">inbox（收件箱）</dt>
        <dd>
          对 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]
          <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
            <code>OrderedCollection</code>（有序集合）</a> 的引用，该集合包含行为体接收到的所有消息；参见
          <a href="https://w3c.wholetrans.org/activitypub/#inbox" class="sec-ref"><span class="secno">5.2</span> <span
              class="sec-title">收件箱</span></a>。
        </dd>
        <dt id="outbox-property">outbox（发件箱）</dt>
        <dd>
          一个 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]
          <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
            <code>OrderedCollection</code>（有序集合）</a>，包含行为体创建的所有消息；参见
          <a href="https://w3c.wholetrans.org/activitypub/#outbox" class="sec-ref"><span class="secno">5.1</span> <span
              class="sec-title">发件箱</span></a>。
        </dd>
      </dl>
      <p>
        此外，ActivityPub 实现<em class="rfc2119" title="SHOULD">应当</em> 提供以下属性：
      </p>
      <dl>
        <dt id="following-property">following（关注）</dt>
        <dd>
          一个指向 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，该集合包含此行为体正在关注的行为体；参见 <a href="https://w3c.wholetrans.org/activitypub/#following" class="sec-ref"><span
              class="secno">5.4</span> <span class="sec-title">关注集合</span></a>。
        </dd>
        <dt id="followers-property">followers（粉丝）</dt>
        <dd>
          一个指向 [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，该集合包含关注此行为体的行为体；参见 <a href="https://w3c.wholetrans.org/activitypub/#followers" class="sec-ref"><span
              class="secno">5.3</span> <span class="sec-title">粉丝集合</span></a>。
        </dd>
      </dl>
      <p>
        实现<em class="rfc2119" title="MAY">可以</em> 提供以下属性：
      </p>
      <dl>
        <dt id="liked-property">liked（点赞）</dt>
        <dd>
          一个指向[<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 集合的链接，该集合包含此行为体点赞过的对象；参见 <a href="https://w3c.wholetrans.org/activitypub/#liked" class="sec-ref"><span
              class="secno">5.5</span> <span class="sec-title">点赞集合</span></a>。
        </dd>
      </dl>
      <div class="example">
        <div class="example-title marker"><span>示例 9</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"ja"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Person"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://kenzoishii.example.com/"</span>,
  <span class="hljs-attr">"following"</span>: <span class="hljs-string">"https://kenzoishii.example.com/following.json"</span>,
  <span class="hljs-attr">"followers"</span>: <span class="hljs-string">"https://kenzoishii.example.com/followers.json"</span>,
  <span class="hljs-attr">"liked"</span>: <span class="hljs-string">"https://kenzoishii.example.com/liked.json"</span>,
  <span class="hljs-attr">"inbox"</span>: <span class="hljs-string">"https://kenzoishii.example.com/inbox.json"</span>,
  <span class="hljs-attr">"outbox"</span>: <span class="hljs-string">"https://kenzoishii.example.com/feed.json"</span>,
  <span class="hljs-attr">"preferredUsername"</span>: <span class="hljs-string">"kenzoishii"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"石井健蔵"</span>,
  <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"この方はただの例です"</span>,
  <span class="hljs-attr">"icon"</span>: [
    <span class="hljs-string">"https://kenzoishii.example.com/image/165987aklre4"</span>
  ]
}</pre>
      </div>
      <p>实现<em class="rfc2119" title="MAY">可以</em>额外提供以下属性：</p>
      <dl>
        <dt id="streams-property">streams</dt>
        <dd>
          可能感兴趣的补充集合列表。
        </dd>
        <dt id="preferredUsername">preferredUsername</dt>
        <dd>
          可用于指代行为体的简短用户名，不提供唯一性保证。
        </dd>
        <dt id="endpoints">endpoints</dt>
        <dd>
          一个映射额外（通常为服务端/域级别的）端点的 JSON 对象，这些端点可能对该行为体或引用该行为体的其他人有用。
          此映射可以作为值嵌套在行为体文档中，也可以是指向包含这些属性的JSON-LD文档的链接。
        </dd>
      </dl>

      <p>
        <code>endpoints</code> 映射<em class="rfc2119" title="MAY">可以</em>包含以下属性：
      </p>
      <dl>
        <dt id="proxyUrl">proxyUrl</dt>
        <dd>
          端点 URI，该行为体的客户端可以通过此 URI 访问需要身份验证的外站 ActivityStreams 对象。
          要使用此端点，客户端需按 <code>x-www-form-urlencoded</code> 格式提交 <code>id</code> 参数，参数值为要请求的 ActivityStreams 对象的 <code>id</code>。
        </dd>
        <dt id="oauthAuthorizationEndpoint">oauthAuthorizationEndpoint</dt>
        <dd>
          若<a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions">客户端到服务端交互</a>使用
          OAuth 2.0 不记名令牌[<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-RFC6749">RFC6749</a></cite>] [<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-RFC6750">RFC6750</a></cite>] 进行身份验证，
          此端点指定一个 URI，通过浏览器完成认证的用户可在该 URI 上获取新的授权许可。
        </dd>
        <dt id="oauthTokenEndpoint">oauthTokenEndpoint</dt>
        <dd>
          若<a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions">客户端到服务端交互</a>使用
          OAuth 2.0 不记名令牌[<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-RFC6749">RFC6749</a></cite>] [<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-RFC6750">RFC6750</a></cite>] 进行身份验证，
          此端点指定一个 URI，客户端可以在该 URI 获取访问令牌。
        </dd>
        <dt id="provideClientKey">provideClientKey</dt>
        <dd>
          若身份验证和授权使用链接数据签名和 HTTP 签名，此端点指定一个 URI，通过浏览器完成认证的用户可在此 URI 上将授权客户端的公钥用于
          <a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions">客户端到服务端的交互</a>。
        </dd>
        <dt id="signClientKey">signClientKey</dt>
        <dd>
          若身份验证和授权使用链接数据签名和 HTTP 签名，则此端点指定一个 URI，在一段时间内，行为体的密钥可以在该 URI 上对客户端密钥进行签名，以代表行为体与外部服务器进行交互。
        </dd>
        <dt id="sharedInbox">sharedInbox</dt>
        <dd>
          此端点为可选端点，
          <a href="https://w3c.wholetrans.org/activitypub/#shared-inbox-delivery">
            用于广泛传递公开寻址的活动及发送给粉丝的活动</a>。
          <code>sharedInbox</code> 端点也应该是公开可读的 <code>OrderedCollection</code> 对象，其中包含寻址到<a href="https://w3c.wholetrans.org/activitypub/#public-addressing">公共</a>特殊集合的对象。
          从 <code>sharedInbox</code> 端点读取内容时，禁止呈现未寻址到公共（<code>Public</code>）端点的对象。
        </dd>
      </dl>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>注</span></div>
        <div class="" id="as2-actor-properties">
          <p>
            [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 是 ActivityPub 的上游术语表，任何适用于
            [<cite><a class="bibref"
                href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] 的属性都可以在 ActivityPub 行为体上使用。
            在此特别强调以下 ActivityStreams 属性，以演示它们在 ActivityPub 实现中的使用方法。
          </p>

          <dl>
            <dt id="url-property">url</dt>
            <dd>
              若该属性的值不等于 <code>id</code>，则指向行为体“账户页面”的链接。
            </dd>
            <dt id="name-property">name</dt>
            <dd>
              行为体设置的“昵称”或“显示名称”。
            </dd>
            <dt id="summary-property">summary</dt>
            <dd>用户关于自身的简介或简要总结。</dd>
            <dt id="icon-property">icon</dt>
            <dd>
              指向代表用户头像图片或图片对象的链接（可以是一个缩略图）。
            </dd>
          </dl>
        </div>
      </div>
      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注</span></div>
        <p class="" id="actor-text-direction">
          包含自然语言值的属性（如 <code>name</code>、<code>preferredUsername</code> 或 <code>summary</code>）使用在
          <a href="https://www.w3.org/TR/activitystreams-core/#naturalLanguageValues">
            ActivityStreams 中定义的自然语言支持</a>。
        </p>
      </div>
    </section>

  </section>

  <section id="collections">
    <!--OddPage-->
    <h2 id="x5-collections"><span class="secno">5. </span>集合</h2>
    <p>
      [<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>]
      defines the collection concept; ActivityPub
      defines several collections with special behavior.
      Note that ActivityPub makes use of
      <a href="https://www.w3.org/TR/activitystreams-core/#paging">
        ActivityStreams paging</a>
      to traverse large sets of objects.
    </p>

    <p>
      Note that some of these collections are specified to be of type
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
        <code>OrderedCollection</code></a>
      specifically, while others are permitted to be either a
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
        <code>Collection</code></a>
      or an
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
        <code>OrderedCollection</code></a>.
      An
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
        <code>OrderedCollection</code></a>
      <em class="rfc2119" title="MUST">MUST</em> be presented consistently in reverse chronological order.
    </p>

    <div class="note">
      <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>Note</span></div>
      <p class="">
        What property is used to determine the reverse chronological order
        is intentionally left as an implementation detail.
        For example, many SQL-style databases use an incrementing integer
        as an identifier, which can be reasonably used for handling
        insertion order in most cases.
        In other databases, an insertion time timestamp may be preferred.
        What is used isn't important, but the ordering of elements must
        remain intact, with newer items first.
        A property which changes regularly, such a "last updated" timestamp,
        should not be used.
      </p>
    </div>

    <section id="outbox">
      <h3 id="x5-1-outbox"><span class="secno">5.1 </span>Outbox</h3>
      <p>
        The outbox is discovered through the <code>outbox</code>
        property of an <a href="https://w3c.wholetrans.org/activitypub/#actors">actor's</a> profile.
        The <code>outbox</code> <em class="rfc2119" title="MUST">MUST</em> be an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>.
      </p>
      <p>
        The outbox stream contains activities the user has
        published, subject to the ability of the requestor to retrieve the
        activity (that is, the contents of the outbox are filtered by the
        permissions of the person reading it).
        If a user submits a request without
        <a href="https://w3c.wholetrans.org/activitypub/#authorization">Authorization</a> the server should
        respond with all of the <a href="https://w3c.wholetrans.org/activitypub/#public-addressing">Public</a>
        posts.
        This could potentially be all relevant objects published by the
        user, though the number of available items is left to the
        discretion of those implementing and deploying the server.
      </p>
      <p>
        The outbox accepts HTTP POST requests, with behaviour described in
        <a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions">Client to Server
          Interactions</a>.
      </p>
    </section>

    <section id="inbox">
      <h3 id="x5-2-inbox"><span class="secno">5.2 </span>Inbox</h3>

      <p>
        The inbox is discovered through the <code>inbox</code>
        property of an <a href="https://w3c.wholetrans.org/activitypub/#actors">actor's</a> profile.
        The <code>inbox</code> <em class="rfc2119" title="MUST">MUST</em> be an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>.
      </p>

      <p>
        The inbox stream contains all activities received by the
        actor.
        The server <em class="rfc2119" title="SHOULD">SHOULD</em> filter content according to the requester's
        permission.
        In general, the owner of an inbox is likely to be able to access
        all of their inbox contents. Depending on access control, some
        other content may be public, whereas other content may require
        authentication for non-owner users, if they can access the inbox
        at all.
      </p>

      <p>
        The server <em class="rfc2119" title="MUST">MUST</em> perform de-duplication of activities returned by
        the inbox. Duplication can occur if an activity is addressed both
        to an actor's followers, and a specific
        actor who also follows the recipient actor, and the server has failed
        to de-duplicate the recipients list.
        Such deduplication <em class="rfc2119" title="MUST">MUST</em> be performed by comparing the
        <code>id</code> of the activities and dropping any activities
        already seen.
      </p>

      <p>
        The inboxes of actors on federated servers accepts HTTP POST requests,
        with behaviour described in <a href="https://w3c.wholetrans.org/activitypub/#delivery">Delivery</a>.
        Non-federated servers <em class="rfc2119" title="SHOULD">SHOULD</em> return a 405 Method Not Allowed upon
        receipt of a POST request.
      </p>
    </section>

    <section id="followers">
      <h3 id="x5-3-followers-collection"><span class="secno">5.3 </span>Followers Collection</h3>
      <p>
        Every <a href="https://w3c.wholetrans.org/activitypub/#actors">actor</a> <em class="rfc2119"
          title="SHOULD">SHOULD</em> have a <code>followers</code>
        collection.
        This is a list of everyone who has sent a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-follow">Follow</a>
        activity for the actor, added as a
        <a href="https://w3c.wholetrans.org/activitypub/#follow-activity-outbox">side effect</a>.
        This is where one would find a list of all the actors that are
        following the actor.
        The <code>followers</code> collection <em class="rfc2119" title="MUST">MUST</em> be either an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>
        or a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
          <code>Collection</code></a>
        and <em class="rfc2119" title="MAY">MAY</em> be filtered on privileges of an authenticated user
        or as appropriate when no authentication is given.
      </p>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span><span
            style="text-transform: none">: Default for notification targeting</span></div>
        <p class="">
          The follow activity generally is a request to see the objects an actor
          creates. This makes the Followers collection an appropriate default
          target for <a href="https://w3c.wholetrans.org/activitypub/#delivery">delivery</a> of notifications.
        </p>
      </div>
    </section>

    <section id="following">
      <h3 id="x5-4-following-collection"><span class="secno">5.4 </span>Following Collection</h3>
      <p>
        Every actor <em class="rfc2119" title="SHOULD">SHOULD</em> have a <code>following</code> collection.
        This is a list of everybody that the actor has followed, added as a
        <a href="https://w3c.wholetrans.org/activitypub/#follow-activity-outbox">side effect</a>.
        The <code>following</code> collection <em class="rfc2119" title="MUST">MUST</em> be either an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>
        or a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
          <code>Collection</code></a>
        and <em class="rfc2119" title="MAY">MAY</em> be filtered on privileges of an authenticated user
        or as appropriate when no authentication is given.
      </p>
    </section>

    <section id="liked">
      <h3 id="x5-5-liked-collection"><span class="secno">5.5 </span>Liked Collection</h3>
      <p>
        Every actor <em class="rfc2119" title="MAY">MAY</em> have a <code>liked</code> collection.
        This is a list of every object from all of the actor's <code>Like</code>
        activities, added as a <a href="https://w3c.wholetrans.org/activitypub/#like-activity-outbox">side effect</a>.
        The <code>liked</code> collection <em class="rfc2119" title="MUST">MUST</em> be either an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>
        or a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
          <code>Collection</code></a>
        and <em class="rfc2119" title="MAY">MAY</em> be filtered on privileges of an authenticated user
        or as appropriate when no authentication is given.
      </p>
    </section>

    <section id="public-addressing">
      <h3 id="x5-6-public-addressing"><span class="secno">5.6 </span>Public Addressing</h3>
      <p>
        In addition to [<cite><a class="bibref"
            href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] collections
        and
        objects,
        Activities may additionally be addressed to the special "public"
        collection, with the identifier
        <code>https://www.w3.org/ns/activitystreams#Public</code>.
        For example:
      </p>
      <div class="example">
        <div class="example-title marker"><span>Example 10</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Collection"</span>
}</pre>
      </div>
      <p>
        Activities addressed to this special URI shall be accessible to all
        users, without authentication.
        Implementations <em class="rfc2119" title="MUST NOT">MUST NOT</em> deliver to the "public" special collection;
        it is not capable of receiving actual activities.
        However, actors <em class="rfc2119" title="MAY">MAY</em> have a
        <a href="https://w3c.wholetrans.org/activitypub/#sharedInbox"><code>sharedInbox</code></a>
        endpoint which is available for efficient shared delivery of public
        posts (as well as posts to followers-only); see
        <a href="https://w3c.wholetrans.org/activitypub/#shared-inbox-delivery" class="sec-ref"><span
            class="secno">7.1.3</span> <span class="sec-title">Shared Inbox Delivery</span></a>.
      </p>
      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>Note</span></div>
        <div class="">
          <p>
            Compacting an ActivityStreams object using the ActivityStreams
            JSON-LD context might result in
            <code>https://www.w3.org/ns/activitystreams#Public</code>
            being represented as simply <code>Public</code> or <code>as:Public</code>
            which are valid representations of the Public collection.
            Implementations which treat ActivityStreams objects as simply
            JSON rather than converting an incoming activity over to a
            local context using JSON-LD tooling should be aware of this
            and should be prepared to accept all three representations.
          </p>
        </div>
      </div>
    </section>

    <section id="likes">
      <h3 id="x5-7-likes-collection"><span class="secno">5.7 </span>Likes Collection</h3>
      <p>
        Every object <em class="rfc2119" title="MAY">MAY</em> have a <code>likes</code> collection.
        This is a list of all <code>Like</code> activities with this object
        as the <code>object</code> property, added as a
        <a href="https://w3c.wholetrans.org/activitypub/#like-activity-inbox">side effect</a>.
        The <code>likes</code> collection <em class="rfc2119" title="MUST">MUST</em> be either an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>
        or a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
          <code>Collection</code></a>
        and <em class="rfc2119" title="MAY">MAY</em> be filtered on privileges of an authenticated user
        or as appropriate when no authentication is given.
      </p>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>Note</span></div>
        <div class="">
          <p>
            Care should be taken to not confuse the the
            <a href="https://w3c.wholetrans.org/activitypub/#likes"><code>likes</code></a>
            collection with the similarly named but different
            <a href="https://w3c.wholetrans.org/activitypub/#liked"><code>liked</code></a> collection.
            In sum:
          </p>

          <ul>
            <li>
              <b>liked:</b>
              Specifically a property of actors.
              This is a collection of <code>Like</code> activities performed
              <i>by the actor</i>,
              added to the collection as a
              <a href="https://w3c.wholetrans.org/activitypub/#like-activity-outbox">
                side effect of delivery to the outbox</a>.
            </li>

            <li>
              <b>likes:</b>
              May be a property of any object.
              This is a collection of <code>Like</code> activities referencing
              this object,
              added to the collection as a
              <a href="https://w3c.wholetrans.org/activitypub/#like-activity-inbox">
                side effect of delivery to the inbox</a>.
            </li>
          </ul>
        </div>
      </div>
    </section>

    <section id="shares">
      <h3 id="x5-8-shares-collection"><span class="secno">5.8 </span>Shares Collection</h3>
      <p>
        Every object <em class="rfc2119" title="MAY">MAY</em> have a <code>shares</code> collection.
        This is a list of all <code>Announce</code> activities with this object
        as the <code>object</code> property, added as a
        <a href="https://w3c.wholetrans.org/activitypub/#announce-activity-inbox">side effect</a>.
        The <code>shares</code> collection <em class="rfc2119" title="MUST">MUST</em> be either an
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-orderedcollection">
          <code>OrderedCollection</code></a>
        or a
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-collection">
          <code>Collection</code></a>
        and <em class="rfc2119" title="MAY">MAY</em> be filtered on privileges of an authenticated user
        or as appropriate when no authentication is given.
      </p>
    </section>
  </section>

  <section id="client-to-server-interactions">
    <!--OddPage-->
    <h2 id="x6-client-to-server-interactions"><span class="secno">6. </span>Client to Server Interactions</h2>
    <p>
      Activities as defined by [<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] are the core
      mechanism
      for creating, modifying and sharing content within the social graph.
    </p>

    <p>
      Client to server interaction takes place through clients posting
      Activities to an actor's <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a>.
      To do this, clients <em class="rfc2119" title="MUST">MUST</em> discover the URL of the actor's outbox from
      their <a href="https://w3c.wholetrans.org/activitypub/#actor-objects">profile</a> and then <em class="rfc2119"
        title="MUST">MUST</em> make an HTTP
      <code>POST</code> request to this URL with the Content-Type of
      <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>.
      Servers <em class="rfc2119" title="MAY">MAY</em> interpret a Content-Type or Accept header of
      <code>application/activity+json</code> as equivalent
      to <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
      for client-to-server interactions.
      The request <em class="rfc2119" title="MUST">MUST</em> be authenticated with the credentials of the user to
      whom the outbox belongs.
      The body of the <code>POST</code> request <em class="rfc2119" title="MUST">MUST</em> contain a single
      Activity (which <em class="rfc2119" title="MAY">MAY</em> contain embedded objects), or a single non-Activity
      object which
      <a href="https://w3c.wholetrans.org/activitypub/#object-without-create">will be wrapped in a Create activity
        by the server</a>.
    </p>
    <div class="example">
      <div class="example-title marker"><span>Example 11</span><span style="text-transform: none">: Submitting an
          Activity to the Outbox</span></div>
      <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/outbox/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: dustycloud.org
<span class="hljs-attribute">Authorization</span>: Bearer XXXXXXXXXXX
<span class="hljs-attribute">Content-Type</span>: application/ld+json; profile="https://www.w3.org/ns/activitystreams"

<span class="json">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://dustycloud.org/chris/"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Chris liked 'Minimal ActivityPub update client'"</span>,
  <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
         <span class="hljs-string">"https://dustycloud.org/followers"</span>,
         <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>],
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</span></pre>
    </div>

    <p>
      If an Activity is submitted with a value in the <code>id</code>
      property, servers <em class="rfc2119" title="MUST">MUST</em> ignore this and generate a new <code>id</code>
      for the Activity.
      Servers <em class="rfc2119" title="MUST">MUST</em> return a <code>201 Created</code> HTTP code, and unless
      the activity is transient, <em class="rfc2119" title="MUST">MUST</em> include the new <code>id</code> in the
      <code>Location</code> header.
    </p>
    <div class="example">
      <div class="example-title marker"><span>Example 12</span><span style="text-transform: none">: Outbox response to
          submitted Activity</span></div>
      <pre class="hljs http" aria-busy="false" aria-live="polite">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: https://dustycloud.org/likes/345</pre>
    </div>

    <p id="remove-bto-bcc-before-delivery">
      The server <em class="rfc2119" title="MUST">MUST</em> remove the <code>bto</code> and/or <code>bcc</code>
      properties, if they exist, from the ActivityStreams object before
      delivery, but <em class="rfc2119" title="MUST">MUST</em> utilize the addressing originally stored
      on the <code>bto</code> / <code>bcc</code> properties for determining
      recipients in <a href="https://w3c.wholetrans.org/activitypub/#delivery">delivery</a>.
    </p>

    <p>
      The server <em class="rfc2119" title="MUST">MUST</em> then add this new Activity to the
      <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a> collection.
      Depending on the type of Activity, servers may then be required to
      carry out further side effects.
      (However, there is no guarantee that time the Activity may appear in
      the outbox.
      The Activity might appear after a delay or disappear at any period).
      These are described per individual Activity below.
    </p>

    <p>
      Attempts to submit objects to servers not implementing client to server
      support <em class="rfc2119" title="SHOULD">SHOULD</em> result in a <code>405 Method Not Allowed</code> response.
    </p>


    <p>
      HTTP caching mechanisms [<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-RFC7234">RFC7234</a></cite>] <em class="rfc2119"
        title="SHOULD">SHOULD</em> be respected when
      appropriate, both in clients receiving responses from servers as well
      as servers sending responses to clients.
    </p>

    <section id="client-addressing">
      <h3 id="x6-1-client-addressing"><span class="secno">6.1 </span>Client Addressing</h3>
      <p>
        <strong>Clients</strong> are responsible for addressing new Activities
        appropriately.
        To some extent, this is dependent upon the particular client
        implementation, but clients must be aware that the server will only
        forward new Activities to addressees in the <code>to</code>,
        <code>bto</code>, <code>cc</code>, <code>bcc</code>, and
        <code>audience</code> fields.
      </p>
      <p>
        The <a href="https://w3c.wholetrans.org/activitypub/#followers">Followers Collection</a> and/or the
        <a href="https://w3c.wholetrans.org/activitypub/#public-addressing">Public Collection</a> are good
        choices for the default addressing of new Activities.
      </p>
      <p>
        Clients <em class="rfc2119" title="SHOULD">SHOULD</em> look at any objects attached to the new Activity via the
        <code>object</code>, <code>target</code>, <code>inReplyTo</code> and/or
        <code>tag</code> fields, retrieve <em>their</em> <code>actor</code> or
        <code>attributedTo</code> properties, and <em class="rfc2119" title="MAY">MAY</em> also retrieve their
        addressing
        properties, and add these to the <code>to</code> or <code>cc</code>
        fields of the new Activity being created.
        Clients <em class="rfc2119" title="MAY">MAY</em> recurse through attached objects, but if doing so, <em
          class="rfc2119" title="SHOULD">SHOULD</em>
        set a limit for this recursion.
        (Note that this does not suggest that the client should "unpack"
        collections of actors being addressed as individual recipients).
      </p>
      <p>
        Clients <em class="rfc2119" title="MAY">MAY</em> give the user the chance to amend this addressing in the
        UI.
      </p>
      <p>
        For example, when Chris likes the following article by Amy:
      </p>

      <div class="example">
        <div class="example-title marker"><span>Example 13</span><span style="text-transform: none">: An Article</span>
        </div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en-GB"</span>}],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Article"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Minimal ActivityPub update client"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Today I finished morph, a client for posting ActivityStreams2..."</span>,
  <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
  <span class="hljs-attr">"to"</span>: <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>,
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</pre>
      </div>

      <p>the like is generated by the client as:</p>

      <div class="example">
        <div class="example-title marker"><span>Example 14</span><span style="text-transform: none">: A Like of the
            Article</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
               {<span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span>}],
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Like"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://dustycloud.org/chris/"</span>,
  <span class="hljs-attr">"summary"</span>: <span class="hljs-string">"Chris liked 'Minimal ActivityPub update client'"</span>,
  <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://rhiaro.co.uk/2016/05/minimal-activitypub"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://rhiaro.co.uk/#amy"</span>,
         <span class="hljs-string">"https://dustycloud.org/followers"</span>,
         <span class="hljs-string">"https://rhiaro.co.uk/followers/"</span>],
  <span class="hljs-attr">"cc"</span>: <span class="hljs-string">"https://e14n.com/evan"</span>
}</pre>
      </div>

      <p>The receiving outbox can then perform <a href="https://w3c.wholetrans.org/activitypub/#delivery">delivery</a>
        to not only the followers of Chris (the liker), but also to Amy, and Amy's
        followers and Evan, both of whom received the original article.</p>

      <p>
        Clients submitting the following activities to an <code>outbox</code>
        <em class="rfc2119" title="MUST">MUST</em> provide the <code>object</code> property in the activity:
        <code>Create</code>, <code>Update</code>, <code>Delete</code>,
        <code>Follow</code>, <code>Add</code>, <code>Remove</code>,
        <code>Like</code>, <code>Block</code>, <code>Undo</code>.
        Additionally, clients submitting the following activities to an outbox
        <em class="rfc2119" title="MUST">MUST</em> also provide the <code>target</code> property:
        <code>Add</code>, <code>Remove</code>.
      </p>

    </section>


    <section id="create-activity-outbox">
      <h3 id="x6-2-create-activity"><span class="secno">6.2 </span>Create Activity</h3>
      <p>
        The <code>Create</code> activity is used when posting a new object.
        This has the side effect that the object embedded within the Activity
        (in the <code>object</code> property) is created.
      </p>
      <p>
        When a <code>Create</code> activity is posted, the <code>actor</code>
        of the activity <em class="rfc2119" title="SHOULD">SHOULD</em> be copied onto the <code>object</code>'s
        <code>attributedTo</code> field.
      </p>
      <p>
        A mismatch between addressing of the Create activity and its
        <code>object</code> is likely to lead to confusion.
        As such, a server <em class="rfc2119" title="SHOULD">SHOULD</em> copy any recipients of the Create activity
        to its <code>object</code> upon initial distribution, and likewise
        with copying recipients from the <code>object</code> to the wrapping
        Create activity.
        Note that it is acceptable for the <code>object</code>'s addressing
        to be changed later without changing the <code>Create</code>'s
        addressing (for example via an <code>Update</code> activity).
      </p>

      <section id="object-without-create">
        <h4 id="x6-2-1-object-creation-without-a-create-activity"><span class="secno">6.2.1 </span>Object creation
          without a Create Activity</h4>
        <p>
          For client to server posting, it is possible to submit an object for
          creation without a surrounding activity.
          The server <em class="rfc2119" title="MUST">MUST</em> accept a valid [<cite><a class="bibref"
              href="https://w3c.wholetrans.org/activitypub/#bib-ActivityStreams">ActivityStreams</a></cite>] object that
          isn't a subtype of <code>Activity</code> in the POST request to the
          outbox.
          The server then <em class="rfc2119" title="MUST">MUST</em> attach this object as the <code>object</code>
          of a <a href="https://w3c.wholetrans.org/activitypub/#create-activity-outbox">Create Activity</a>.
          For non-transient objects, the server <em class="rfc2119" title="MUST">MUST</em> attach an
          <code>id</code> to both the wrapping <code>Create</code> and its
          wrapped <code>Object</code>.
        </p>

        <div class="note">
          <div role="heading" class="note-title marker" id="h-note-7" aria-level="5"><span>Note</span></div>
          <p class="">
            The <code>Location</code> value returned by the server should be the URL of
            the new Create activity (rather than the object).
          </p>
        </div>

        <p>
          Any <code>to</code>, <code>bto</code>, <code>cc</code>, <code>bcc</code>,
          and <code>audience</code> properties specified on the object <em class="rfc2119" title="MUST">MUST</em> be
          copied over to the new Create activity by the server.
        </p>

        <div class="example">
          <div class="example-title marker"><span>Example 15</span><span style="text-transform: none">: Object with
              audience targeting</span></div>
          <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"This is a note"</span>,
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
  <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
         <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
}</pre>
        </div>

        The above example could be converted to this:
        <div class="example">
          <div class="example-title marker"><span>Example 16</span><span style="text-transform: none">: Create Activity
              wrapper generated by the server</span></div>
          <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Create"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.net/~mallory/87374"</span>,
  <span class="hljs-attr">"actor"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
  <span class="hljs-attr">"object"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.com/~mallory/note/72"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Note"</span>,
    <span class="hljs-attr">"attributedTo"</span>: <span class="hljs-string">"https://example.net/~mallory"</span>,
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"This is a note"</span>,
    <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
    <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
    <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
           <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
  },
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"to"</span>: [<span class="hljs-string">"https://example.org/~john/"</span>],
  <span class="hljs-attr">"cc"</span>: [<span class="hljs-string">"https://example.com/~erik/followers"</span>,
         <span class="hljs-string">"https://www.w3.org/ns/activitystreams#Public"</span>]
}</pre>
        </div>
      </section>
    </section>
    <section id="update-activity-outbox">
      <h3 id="x6-3-update-activity"><span class="secno">6.3 </span>Update Activity</h3>
      <p>
        The <code>Update</code> activity is used when updating an already
        existing object.
        The side effect of this is that the <code>object</code> <em class="rfc2119" title="MUST">MUST</em> be
        modified to reflect the new structure as defined in the update
        activity, assuming the actor has permission to update this
        object.
      </p>

      <section id="partial-updates">
        <h4 id="x6-3-1-partial-updates"><span class="secno">6.3.1 </span>Partial Updates</h4>
        <p>
          For client to server interactions, updates are partial;
          rather than updating the document all at once, any key value
          pair supplied is used to replace the existing value with
          the new value.
          This only applies to the top-level fields of the updated
          object.
          A special exception is for when the value is the json
          <code>null</code> type; this means that this field should be
          removed from the server's representation of the object.
        </p>
        <p>
          Note that this behavior is for client to server interaction where
          the client is posting to the server only.
          Server to server interaction and updates from the server to the client
          should contain the entire new representation of the object, after
          the partial update application has been applied.
          See the description of the
          <a href="https://w3c.wholetrans.org/activitypub/#update-activity-inbox">Update activity for server to server
            interactions</a>
          for more details.
        </p>
      </section>
    </section>
    <section id="delete-activity-outbox">
      <h3 id="x6-4-delete-activity"><span class="secno">6.4 </span>Delete Activity</h3>
      <p>
        The <code>Delete</code> activity is used to delete an already
        existing object.
        The side effect of this is that the server <em class="rfc2119" title="MAY">MAY</em> replace the
        <code>object</code> with a <code>Tombstone</code> of the object
        that will be displayed in activities which reference the deleted
        object.
        If the deleted object is requested the server <em class="rfc2119" title="SHOULD">SHOULD</em> respond with
        either the HTTP 410 Gone status code if a <code>Tombstone</code>
        object is presented as the response body, otherwise respond with a
        HTTP 404 Not Found.
      </p>

      <p>A deleted object:</p>
      <div class="example">
        <div class="example-title marker"><span>Example 17</span></div>
        <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.com/~alice/note/72"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Tombstone"</span>,
  <span class="hljs-attr">"published"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"updated"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>,
  <span class="hljs-attr">"deleted"</span>: <span class="hljs-string">"2015-02-10T15:04:55Z"</span>
}</pre>
      </div>
    </section>
    <section id="follow-activity-outbox">
      <h3 id="x6-5-follow-activity"><span class="secno">6.5 </span>Follow Activity</h3>
      <p>
        The <code>Follow</code> activity is used to subscribe to the
        activities of another actor.
      </p>
      <p>
        The side effect of receiving this in an <strong>outbox</strong>
        is that the server <em class="rfc2119" title="SHOULD">SHOULD</em> add the <code>object</code> to the
        <code>actor</code>'s <a href="https://w3c.wholetrans.org/activitypub/#following"><code>following</code>
          Collection</a>
        when and only if an <code>Accept</code> activity is subsequently
        received with this <code>Follow</code> activity as its object.
      </p>
    </section>
    <section id="add-activity-outbox">
      <h3 id="x6-6-add-activity"><span class="secno">6.6 </span>Add Activity</h3>
      <p>
        Upon receipt of an <code>Add</code> activity into the
        <strong>outbox</strong>, the server <em class="rfc2119" title="SHOULD">SHOULD</em>
        add the <code>object</code> to the collection specified in the
        <code>target</code> property, unless:
      </p>
      <ul>
        <li>
          the <code>target</code> is not owned by the receiving
          server, and thus they are not authorized to update it.
        </li>
        <li>
          the <code>object</code> is not allowed to be added to the
          <code>target</code> collection for some other reason, at the
          receiving server's discretion.
        </li>
      </ul>
    </section>
    <section id="remove-activity-outbox">
      <h3 id="x6-7-remove-activity"><span class="secno">6.7 </span>Remove Activity</h3>
      <p>
        Upon receipt of a <code>Remove</code> activity into the
        <strong>outbox</strong>, the server <em class="rfc2119" title="SHOULD">SHOULD</em>
        remove the <code>object</code> from the collection specified in the
        <code>target</code> property, unless:
      </p>
      <ul>
        <li>
          the <code>target</code> is not owned by the receiving server, and
          thus they are not authorized to update it.
        </li>
        <li>
          the <code>object</code> is not allowed to be removed from the
          <code>target</code> collection for some other reason, at the
          receiving server's discretion.
        </li>
      </ul>
    </section>
    <section id="like-activity-outbox">
      <h3 id="x6-8-like-activity"><span class="secno">6.8 </span>Like Activity</h3>
      <p>
        The <code>Like</code> activity indicates the <code>actor</code> likes
        the <code>object</code>.
      </p>
      <p>
        The side effect of receiving this in an <strong>outbox</strong>
        is that the server <em class="rfc2119" title="SHOULD">SHOULD</em> add the <code>object</code> to the
        <code>actor</code>'s <a href="https://w3c.wholetrans.org/activitypub/#liked"><code>liked</code> Collection</a>.
      </p>
    </section>
    <section id="block-activity-outbox">
      <h3 id="x6-9-block-activity"><span class="secno">6.9 </span>Block Activity</h3>
      <p>
        The <code>Block</code> activity is used to indicate that the posting
        actor does not want another actor (defined in the <code>object</code>
        property) to be able to interact with objects posted by the actor
        posting the <code>Block</code> activity.
        The server <em class="rfc2119" title="SHOULD">SHOULD</em> prevent the blocked user from interacting with any
        object
        posted by the actor.
      </p>
      <p>
        Servers <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em> deliver Block Activities to their
        <code>object</code>.
      </p>
    </section>
    <section id="undo-activity-outbox">
      <h3 id="x6-10-undo-activity"><span class="secno">6.10 </span>Undo Activity</h3>
      <p>
        The <code>Undo</code> activity is used to undo a previous activity.
        See the Activity Vocabulary documentation on
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#inverse">
          Inverse Activities and "Undo"</a>.
        For example, <code>Undo</code> may be used to undo a previous
        <code>Like</code>, <code>Follow</code>, or <code>Block</code>.
        The undo activity and the activity being undone <em class="rfc2119" title="MUST">MUST</em> both have the
        same actor.
        Side effects should be undone, to the extent possible.
        For example, if undoing a <code>Like</code>, any counter that had
        been incremented previously should be decremented appropriately.
      </p>

      <p>
        There are some exceptions where there is an existing and explicit
        "inverse activity" which should be used instead.
        <code>Create</code> based activities should instead use
        <code>Delete</code>, and <code>Add</code> activities should use
        <code>Remove</code>.
      </p>
    </section>

    <section id="client-to-server-outbox-delivery">
      <h3 id="x6-11-delivery"><span class="secno">6.11 </span>Delivery</h3>
      <p>
        Federated servers <em class="rfc2119" title="MUST">MUST</em> perform delivery on all Activities posted to the
        <strong>outbox</strong> according to <a href="https://w3c.wholetrans.org/activitypub/#outbox-delivery">
          outbox delivery</a>.
      </p>
    </section>

    <section id="uploading-media" class="informative">
      <h3 id="x6-12-uploading-media"><span class="secno">6.12 </span>Uploading Media</h3>
      <p><em>This section is non-normative.</em></p>
      <p>
        Servers <em class="rfc2119" title="MAY">MAY</em> support uploading document types to be referenced in
        activites, such as images, video or other binary data, but the
        precise mechanism is out of scope for this version of ActivityPub.
        The Social Web Community Group is refining the protocol in the
        <a href="https://www.w3.org/wiki/SocialCG/ActivityPub/MediaUpload">ActivityPub Media Upload report</a>.
      </p>
    </section>


  </section>

  <section id="server-to-server-interactions">
    <!--OddPage-->
    <h2 id="x7-server-to-server-interactions"><span class="secno">7. </span>Server to Server Interactions</h2>
    <p>
      Servers communicate with other servers and propagate information across
      the social graph by posting activities to actors'
      <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a> endpoints.
      An Activity sent over the network <em class="rfc2119" title="SHOULD">SHOULD</em> have an <code>id</code>,
      unless it is intended to be transient (in which case it <em class="rfc2119" title="MAY">MAY</em> omit the
      <code>id</code>).
    </p>
    <p>
      <code>POST</code> requests (eg. to the inbox) <em class="rfc2119" title="MUST">MUST</em> be made with a
      Content-Type of
      <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
      and <code>GET</code> requests (see also <a href="https://w3c.wholetrans.org/activitypub/#retrieving-objects"
        class="sec-ref"><span class="secno">3.2</span> <span class="sec-title">Retrieving objects</span></a>)
      with an Accept header of
      <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>.
      Servers <em class="rfc2119" title="SHOULD">SHOULD</em> interpret a Content-Type or Accept
      header of <code>application/activity+json</code> as equivalent
      to <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>
      for server-to-server interactions.
    </p>
    <p>
      In order to propagate updates throughout the social graph, Activities
      are sent to the appropriate recipients.
      First, these recipients are determined through following the
      appropriate links between objects until you reach an actor, and then
      the Activity is inserted into the actor's <em>inbox</em>
      (<a href="https://w3c.wholetrans.org/activitypub/#delivery">delivery</a>).
      This allows recipient servers to:
    </p>
    <ul>
      <li>
        conduct any side effects related to the Activity (for example,
        notification that an actor has liked an object is used to update the
        object's like count);
      </li>
      <li>
        deliver the Activity to recipients of the original object, to ensure
        updates are propagated to the whole social graph (see <a
          href="https://w3c.wholetrans.org/activitypub/#inbox-forwarding">
          inbox delivery</a>).
      </li>
    </ul>
    <p>Delivery is usually triggered by, for example:</p>
    <ul>
      <li>
        an Activity being created in an actor's <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a>
        with their <a href="https://w3c.wholetrans.org/activitypub/#followers">Followers Collection</a> as the
        recipient.
      </li>
      <li>
        an Activity being created in an actor's <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a>
        with directly addressed recipients.
      </li>
      <li>
        an Activity being created in an actors's <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a>
        with user-curated collections as recipients.
      </li>
      <li>
        an Activity being created in an actor's <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a> or
        <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a> which references another object.
      </li>
    </ul>

    <p>
      Servers performing delivery to the <code>inbox</code> or
      <code>sharedInbox</code> properties of actors on other servers <em class="rfc2119" title="MUST">MUST</em>
      provide the <code>object</code> property in the activity:
      <code>Create</code>, <code>Update</code>, <code>Delete</code>,
      <code>Follow</code>, <code>Add</code>, <code>Remove</code>,
      <code>Like</code>, <code>Block</code>, <code>Undo</code>.
      Additionally, servers performing server to server delivery of the
      following activities <em class="rfc2119" title="MUST">MUST</em> also provide the <code>target</code>
      property: <code>Add</code>, <code>Remove</code>.
    </p>

    <p>
      HTTP caching mechanisms [<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-RFC7234">RFC7234</a></cite>] <em class="rfc2119"
        title="SHOULD">SHOULD</em> be respected when
      appropriate, both when receiving responses from other servers as well
      as sending responses to other servers.
    </p>

    <section id="delivery">
      <h3 id="x7-1-delivery"><span class="secno">7.1 </span>Delivery</h3>

      <p><i>
          The following is required by federated servers communicating with
          other federated servers only.
        </i></p>

      <p>
        An activity is delivered to its targets (which are
        <a href="https://w3c.wholetrans.org/activitypub/#actors">actors</a>) by first looking up the targets'
        inboxes and then posting the activity to those inboxes.
        Targets for delivery are determined by checking the
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#audienceTargeting">
          ActivityStreams audience targeting</a>;
        namely, the <code>to</code>, <code>bto</code>, <code>cc</code>,
        <code>bcc</code>, and <code>audience</code> fields of the activity.
      </p>

      <p>
        The <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a> is determined by first
        <a href="https://w3c.wholetrans.org/activitypub/#retrieving-objects">
          retrieving the target actor's JSON-LD representation</a>
        and then looking up the <code>inbox</code> property.
        If a recipient is a <code>Collection</code> or <code>OrderedCollection</code>,
        then the server <em class="rfc2119" title="MUST">MUST</em> dereference the collection (with the user's
        credentials) and discover inboxes for each item in the collection.
        Servers <em class="rfc2119" title="MUST">MUST</em> limit the number of layers of indirections through
        collections which will be performed, which <em class="rfc2119" title="MAY">MAY</em> be one.
      </p>

      <p>
        Servers <em class="rfc2119" title="MUST">MUST</em> de-duplicate the final recipient list. Servers <em
          class="rfc2119" title="MUST">MUST</em> also
        exclude actors from the list which are the same as the <code>actor</code>
        of the Activity being notified about. That is, actors shouldn't have their
        own activities delivered to themselves.
      </p>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span><span
            style="text-transform: none">: Silent and private activities</span></div>
        <p class="">
          What to do when there are no recipients specified is not defined,
          however it's recommended that if no recipients are specified the
          object remains completely private and access controls restrict the
          access to object.
          If the object is just sent to the "public" collection the object is
          not delivered to any actors but is publicly viewable in the actor's
          outbox.
        </p>
      </div>

      <p>
        An HTTP POST request (with authorization of the submitting user) is
        then made to the <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a>, with the Activity as
        the body of the request.
        This Activity is added by the receiver as an <code>item</code> in the
        <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a> OrderedCollection.
        Attempts to deliver to an inbox on a non-federated server <em class="rfc2119" title="SHOULD">SHOULD</em>
        result in a <code>405 Method Not Allowed</code> response.
      </p>

      <p>
        For federated servers performing delivery to a third party server,
        delivery <em class="rfc2119" title="SHOULD">SHOULD</em> be performed asynchronously, and <em class="rfc2119"
          title="SHOULD">SHOULD</em> additionally
        retry delivery to recipients if it fails due to network error.
      </p>

      <p>
        <strong>Note:</strong> Activities being distributed between actors on
        the same origin may use any internal mechanism, and are not required
        to use HTTP.
      </p>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span><span
            style="text-transform: none">: Relationship to Linked Data Notifications</span></div>
        <p class="" id="ldn-relationship">
          While it is not required reading to understand this specification,
          it is worth noting that ActivityPub's targeting and delivery
          mechanism overlaps with the
          <a href="https://www.w3.org/TR/ldn/">Linked Data Notifications</a>
          specification, and the two specifications may interoperably
          combined.
          In particular, the <code>inbox</code> property is the same between
          ActivityPub and Linked Data Notifications, and the targeting
          and delivery systems described in this document are supported
          by Linked Data Notifications.
          In addition to JSON-LD compacted ActivityStreams documents, Linked
          Data Notifications also supports a number of RDF serializations
          which are not required for ActivityPub implementations.
          However, ActivityPub implementations which wish to be more broadly
          compatible with Linked Data Notifications implementations may wish to
          support other RDF representations.
        </p>
      </div>

      <section id="outbox-delivery">
        <h4 id="x7-1-1-outbox-delivery-requirements-for-server-to-server"><span class="secno">7.1.1 </span>Outbox
          Delivery Requirements for Server to Server</h4>
        <p>
          When objects are received in the <a href="https://w3c.wholetrans.org/activitypub/#outbox">outbox</a>
          (for servers which support both
          <a href="https://w3c.wholetrans.org/activitypub/#client-to-server-interactions">Client to Server
            interactions</a>
          and
          <a href="https://w3c.wholetrans.org/activitypub/#server-to-server-interactions">Server to Server
            Interactions</a>),
          the server <em class="rfc2119" title="MUST">MUST</em> target and deliver to:
        </p>
        <ul>
          <li>
            The <code>to</code>, <code>bto</code>, <code>cc</code>,
            <code>bcc</code> or <code>audience</code> fields if their values
            are individuals or Collections owned by the actor.
          </li>
        </ul>
        <p>
          These fields will have been <a href="https://w3c.wholetrans.org/activitypub/#client-addressing">
            populated appropriately by the client</a> which posted the Activity
          to the outbox.
        </p>
      </section>

      <section id="inbox-forwarding">
        <h4 id="x7-1-2-forwarding-from-inbox"><span class="secno">7.1.2 </span>Forwarding from Inbox</h4>

        <div class="note">
          <div role="heading" class="note-title marker" id="h-note-10" aria-level="5"><span>Note</span><span
              style="text-transform: none">: Forwarding to avoid the ghost replies problem</span></div>
          <div class="">
            <p>
              The following section is to mitigate the "ghost replies" problem
              which occasionally causes problems on federated networks.
              This problem is best demonstrated with an example.
            </p>

            <p>
              Alyssa makes a post about her having successfully presented a
              paper at a conference and sends it to her followers collection,
              which includes her friend Ben.
              Ben replies to Alyssa's message congratulating her and includes
              her followers collection on the recipients.
              However, Ben has no access to see the members of Alyssa's
              followers collection, so his server does not forward his messages
              to their inbox.
              Without the following mechanism, if Alyssa were then to reply to
              Ben, her followers would see Alyssa replying to Ben without having
              ever seen Ben interacting.
              This would be very confusing!
            </p>
          </div>
        </div>

        <p>
          When Activities are received in the <a href="https://w3c.wholetrans.org/activitypub/#inbox">inbox</a>, the
          server needs to forward these to recipients that the origin was unable
          to deliver them to. To do this, the server <em class="rfc2119" title="MUST">MUST</em> target and
          <a href="https://w3c.wholetrans.org/activitypub/#delivery">deliver</a>
          to the values of <code>to</code>, <code>cc</code>, and/or <code>audience</code>
          if and only if all of the following are true:
        </p>
        <ul>
          <li>This is the first time the server has seen this Activity.</li>
          <li>
            The values of <code>to</code>, <code>cc</code>, and/or
            <code>audience</code> contain a Collection owned by the server.
          </li>
          <li>
            The values of <code>inReplyTo</code>, <code>object</code>,
            <code>target</code> and/or <code>tag</code> are objects owned by
            the server.
            The server <em class="rfc2119" title="SHOULD">SHOULD</em> recurse through these values to look for linked
            objects
            owned by the server, and <em class="rfc2119" title="SHOULD">SHOULD</em> set a maximum limit for recursion
            (ie. the
            point at which the thread is so deep the recipients followers may not mind
            if they are no longer getting updates that don't directly involve the
            recipient).
            The server <em class="rfc2119" title="MUST">MUST</em> only target the values of <code>to</code>,
            <code>cc</code>, and/or <code>audience</code>
            on the original object being forwarded, and not pick up any new
            addressees whilst recursing through the linked objects
            (in case these addressees were purposefully amended by or via the client).
          </li>
        </ul>
        <p>
          The server <em class="rfc2119" title="MAY">MAY</em> filter its delivery targets according to
          implementation-specific rules (for example, spam filtering).
        </p>
      </section>

      <section id="shared-inbox-delivery">
        <h4 id="x7-1-3-shared-inbox-delivery"><span class="secno">7.1.3 </span>Shared Inbox Delivery</h4>
        <p>
          For servers hosting many actors, delivery to all followers can
          result in an overwhelming number of messages sent.
          Some servers would also like to display a list of all messages
          posted publicly to the "known network".
          Thus ActivityPub provides an optional mechanism for serving these
          two use cases.
        </p>
        <p>
          When an object is being delivered to the originating actor's
          followers, a server <em class="rfc2119" title="MAY">MAY</em> reduce the number of receiving actors
          delivered to by identifying all followers which share the same
          <a href="https://w3c.wholetrans.org/activitypub/#sharedInbox">sharedInbox</a>
          who would otherwise be individual recipients and instead deliver
          objects to said <code>sharedInbox</code>.
          Thus in this scenario, the remote/receiving server participates
          in determining targeting and performing delivery to specific
          inboxes.
        </p>
        <p>
          Additionally, if an object is addressed to the
          <a href="https://w3c.wholetrans.org/activitypub/#public-addressing">Public</a> special collection, a
          server <em class="rfc2119" title="MAY">MAY</em> deliver that object to all known
          <code>sharedInbox</code> endpoints on the network.
        </p>
        <p>
          Origin servers sending publicly addressed activities to
          <code>sharedInbox</code> endpoints <em class="rfc2119" title="MUST">MUST</em> still deliver to actors
          and collections otherwise addressed (through <code>to</code>,
          <code>bto</code>, <code>cc</code>, <code>bcc</code>, and
          <code>audience</code>) which do not have a <code>sharedInbox</code>
          and would not otherwise receive the activity through the
          <code>sharedInbox</code> mechanism.
        </p>
      </section>
    </section>

    <section id="create-activity-inbox">
      <h3 id="x7-2-create-activity"><span class="secno">7.2 </span>Create Activity</h3>
      <p>
        Receiving a <code>Create</code> activity in an <code>inbox</code> has
        surprisingly few side effects; the activity should appear in the
        actor's <code>inbox</code> and it is likely that the server will want
        to locally store a representation of this activity and its accompanying
        object.
        However, this mostly happens in general with processing activities
        delivered to an <code>inbox</code> anyway.
      </p>
    </section>

    <section id="update-activity-inbox">
      <h3 id="x7-3-update-activity"><span class="secno">7.3 </span>Update Activity</h3>
      <p>
        For server to server interactions, an <code>Update</code> activity
        means that the receiving server <em class="rfc2119" title="SHOULD">SHOULD</em> update its copy of the
        <code>object</code> of the same <code>id</code> to the copy
        supplied in the <code>Update</code> activity.
        Unlike the
        <a href="https://w3c.wholetrans.org/activitypub/#update-activity-outbox">
          client to server handling of the Update activity</a>,
        this is not a partial update but a complete replacement of the object.
      </p>
      <p>
        The receiving server <em class="rfc2119" title="MUST">MUST</em> take care to be sure that the
        <code>Update</code> is authorized to modify its <code>object</code>.
        At minimum, this may be done by ensuring that the <code>Update</code>
        and its <code>object</code> are of same origin.
      </p>
    </section>

    <section id="delete-activity-inbox">
      <h3 id="x7-4-delete-activity"><span class="secno">7.4 </span>Delete Activity</h3>
      <p>
        The side effect of receiving this is that (assuming the
        <code>object</code> is owned by the sending actor / server) the
        server receiving the delete activity <em class="rfc2119" title="SHOULD">SHOULD</em> remove its representation
        of the <code>object</code> with the same <code>id</code>, and <em class="rfc2119" title="MAY">MAY</em>
        replace that representation with a <code>Tombstone</code> object.
      </p>
      <p>
        (Note that after an activity has been transmitted from an origin
        server to a remote server, there is nothing in the ActivityPub
        protocol that can <em>enforce</em> remote deletion of an object's
        representation).
      </p>
    </section>

    <section id="follow-activity-inbox">
      <h3 id="x7-5-follow-activity"><span class="secno">7.5 </span>Follow Activity</h3>

      <p>
        The side effect of receiving this in an <strong>inbox</strong> is
        that the server <em class="rfc2119" title="SHOULD">SHOULD</em> generate either an <code>Accept</code> or
        <code>Reject</code> activity with the Follow as the
        <code>object</code> and deliver it to the <code>actor</code> of the
        Follow.
        The <code>Accept</code> or <code>Reject</code> <em class="rfc2119" title="MAY">MAY</em> be generated
        automatically, or <em class="rfc2119" title="MAY">MAY</em> be the result of user input (possibly after
        some delay in which the user reviews).
        Servers <em class="rfc2119" title="MAY">MAY</em> choose to not explicitly send a <code>Reject</code>
        in response to a <code>Follow</code>, though implementors ought to
        be aware that the server sending the request could be left in an
        intermediate state.
        For example, a server might not send a <code>Reject</code> to protect
        a user's privacy.
      </p>

      <p>
        In the case of receiving an <code>Accept</code> referencing this
        <code>Follow</code> as the object, the server <em class="rfc2119" title="SHOULD">SHOULD</em> add the
        <code>actor</code> to the object actor's
        <a href="https://w3c.wholetrans.org/activitypub/#followers">Followers Collection</a>.
        In the case of a <code>Reject</code>, the server <em class="rfc2119" title="MUST NOT">MUST NOT</em> add the
        actor to the object actor's
        <a href="https://w3c.wholetrans.org/activitypub/#followers">Followers Collection</a>.
      </p>

      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>Note</span></div>
        <div class="">
          <p>
            Sometimes a successful <code>Follow</code> subscription may
            occur but at some future point delivery to the follower fails
            for an extended period of time.
            Implementations should be aware that there is no guarantee
            that actors on the network will remain reachable and should
            implement accordingly.
            For instance, if attempting to deliver to an actor for perhaps
            six months while the follower remains unreachable, it is
            reasonable that the delivering server remove the subscriber
            from the <code>followers</code> list.
            Timeframes and behavior for dealing with unreachable actors are
            left to the discretion of the delivering server.
          </p>
        </div>
      </div>

    </section>

    <section id="accept-activity-inbox">
      <h3 id="x7-6-accept-activity"><span class="secno">7.6 </span>Accept Activity</h3>
      <p>
        The side effect of receiving this in an <strong>inbox</strong> is
        determined by the type of the <code>object</code> received,
        and it is possible to accept types not described in this document
        (for example, an <code>Offer</code>).
      </p>

      <p>
        If the <code>object</code> of an <code>Accept</code> received to an
        <strong>inbox</strong> is a <code>Follow</code> activity
        previously sent by the receiver, the server <em class="rfc2119" title="SHOULD">SHOULD</em> add the
        <code>actor</code> to the receiver's
        <a href="https://w3c.wholetrans.org/activitypub/#following">Following Collection</a>.
      </p>
    </section>

    <section id="reject-activity-inbox">
      <h3 id="x7-7-reject-activity"><span class="secno">7.7 </span>Reject Activity</h3>
      <p>
        The side effect of receiving this in an <strong>inbox</strong> is
        determined by the type of the <code>object</code> received,
        and it is possible to reject types not described in this document
        (for example, an <code>Offer</code>).
      </p>

      <p>
        If the <code>object</code> of a <code>Reject</code> received to an
        <strong>inbox</strong> is a <code>Follow</code> activity
        previously sent by the receiver, this means the recipient did not
        approve the <code>Follow</code> request. The server <em class="rfc2119" title="MUST NOT">MUST NOT</em> add the
        <code>actor</code> to the receiver's
        <a href="https://w3c.wholetrans.org/activitypub/#following">Following Collection</a>.
      </p>
    </section>

    <section id="add-activity-inbox">
      <h3 id="x7-8-add-activity"><span class="secno">7.8 </span>Add Activity</h3>
      <p>
        Upon receipt of an <code>Add</code> activity into the
        <strong>inbox</strong>, the server <em class="rfc2119" title="SHOULD">SHOULD</em>
        add the <code>object</code> to the collection specified in the
        <code>target</code> property, unless:
      </p>
      <ul>
        <li>
          the <code>target</code> is not owned by the receiving server, and
          thus they can't update it.
        </li>
        <li>
          the <code>object</code> is not allowed to be added to the
          <code>target</code> collection for some other reason, at the
          receiver's discretion.
        </li>
      </ul>
    </section>
    <section id="remove-activity-inbox">
      <h3 id="x7-9-remove-activity"><span class="secno">7.9 </span>Remove Activity</h3>
      <p>
        Upon receipt of a <code>Remove</code> activity into the
        <strong>inbox</strong>, the server <em class="rfc2119" title="SHOULD">SHOULD</em>
        remove the <code>object</code> from the collection specified in the
        <code>target</code> property, unless:
      </p>
      <ul>
        <li>
          the <code>target</code> is not owned by the receiving server, and
          thus they can't update it.
        </li>
        <li>
          the <code>object</code> is not allowed to be removed to the
          <code>target</code> collection for some other reason, at the
          receiver's discretion.
        </li>
      </ul>
    </section>
    <section id="like-activity-inbox">
      <h3 id="x7-10-like-activity"><span class="secno">7.10 </span>Like Activity</h3>
      <p>
        The side effect of receiving this in an <strong>inbox</strong> is
        that the server <em class="rfc2119" title="SHOULD">SHOULD</em> increment the object's count of likes by
        adding the received activity to the
        <a href="https://w3c.wholetrans.org/activitypub/#likes"><code>likes</code></a> collection
        if this collection is present.
      </p>
    </section>
    <section id="announce-activity-inbox">
      <h3 id="x7-11-announce-activity-sharing"><span class="secno">7.11 </span>Announce Activity (sharing)</h3>
      <p>
        Upon receipt of an <code>Announce</code> activity in an
        <strong>inbox</strong>, a server <em class="rfc2119" title="SHOULD">SHOULD</em> increment the object's count
        of shares by adding the received activity to the
        <a href="https://w3c.wholetrans.org/activitypub/#shares"><code>shares</code></a> collection
        if this collection is present.
      </p>
      <div class="note">
        <div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>Note</span></div>
        <div class="">
          The <code>Announce</code> activity is effectively what is known as
          "sharing", "reposting", or "boosting" in other social networks.
        </div>
      </div>
    </section>
    <section id="undo-activity-inbox">
      <h3 id="x7-12-undo-activity"><span class="secno">7.12 </span>Undo Activity</h3>
      <p>
        The <code>Undo</code> activity is used to undo the side effects
        of previous activities.
        See the ActivityStreams documentation on
        <a href="https://www.w3.org/TR/activitystreams-vocabulary/#inverse">
          Inverse Activities and "Undo"</a>.
        The scope and restrictions of the <code>Undo</code> activity
        are the same as for
        <a href="https://w3c.wholetrans.org/activitypub/#undo-activity-outbox">
          the Undo activity in the context of client to server
          interactions</a>,
        but applied to a federated context.
      </p>
    </section>
  </section>

  <section id="i18n-concerns" class="appendix informative">
    <!--OddPage-->
    <h2 id="a-internationalization"><span class="secno">A. </span>Internationalization</h2>
    <p><em>This section is non-normative.</em></p>
    <p>
      Building an international base of users is important in a federated
      network.
      <a href="https://www.w3.org/TR/activitystreams-core/#naturalLanguageValues">
        ActivityStreams provides tooling for internationalization of content</a>,
      which should be used whenever possible.
      However, it can be difficult for implementations to determine which
      <a href="https://www.w3.org/TR/activitystreams-core/#defaultlangcontext">
        <code>@language</code> property</a>
      to provide for user-submitted content.
      The
      <a href="https://www.w3.org/International/"><abbr title="World Wide Web Consortium">W3C</abbr>
        Internationalization group</a>
      provides some
      <a href="https://www.w3.org/International/wiki/LanguageDetection">
        guidance on language detection</a>.
    </p>
  </section>

  <section id="security-considerations" class="appendix informative">
    <!--OddPage-->
    <h2 id="b-security-considerations"><span class="secno">B. </span>Security Considerations</h2>
    <p><em>This section is non-normative.</em></p>

    <section id="authorization">
      <h3 id="b-1-authentication-and-authorization"><span class="secno">B.1 </span>Authentication and Authorization</h3>
      <p>
        ActivityPub uses authentication for two purposes; first, to
        authenticate clients to servers, and secondly in federated
        implementations to authenticate servers to each other.
      </p>

      <p>
        Unfortunately at the time of standardization, there are no strongly
        agreed upon mechanisms for authentication.
        Some possible directions for authentication are laid out
        <a href="https://www.w3.org/wiki/SocialCG/ActivityPub/Authentication_Authorization">in
          the Social Web Community Group Authentication and
          Authorization best practices report</a>.
      </p>

    </section>

    <section id="security-verification">
      <h3 id="b-2-verification"><span class="secno">B.2 </span>Verification</h3>
      <p>
        Servers should not trust client submitted content, and
        federated servers also should not trust content received from a server
        other than the content's origin without some form of verification.
      </p>
      <p>
        Servers should be careful to verify that new content is really posted
        by the actor that claims to be posting it, and that the actor has
        permission to update the resources it claims to.
        See also
        <a href="https://w3c.wholetrans.org/activitypub/#obj" class="sec-ref"><span class="secno">3.</span> <span
            class="sec-title">Objects</span></a> and <a href="https://w3c.wholetrans.org/activitypub/#authorization"
          class="sec-ref"><span class="secno">B.1</span> <span class="sec-title">Authentication and
            Authorization</span></a>.
      </p>
    </section>

    <section id="security-localhost">
      <h3 id="b-3-accessing-localhost-uris"><span class="secno">B.3 </span>Accessing localhost URIs</h3>
      <p>
        It is often convenient while developing to test against a process
        running on localhost.
        However, permitting requests to localhost in a production client or
        server instance can be dangerous.
        Making requests to URIs on localhost which do not require
        authorization may unintentionally access or modify resources assumed
        to be protected to be usable by localhost-only.
      </p>
      <p>
        If your ActivityPub server or client does permit making requests to
        localhost URIs for development purposes, consider making it a
        configuration option which defaults to off.
      </p>
    </section>

    <section id="security-uri-schemes">
      <h3 id="b-4-uri-schemes"><span class="secno">B.4 </span>URI Schemes</h3>
      <p>
        There are many types of URIs aside from just <code>http</code> and
        <code>https</code>.
        Some libraries which handle fetching requests at various URI schemes
        may try to be smart and reference schemes which may be undesirable,
        such as <code>file</code>.
        Client and server authors should carefully check how their libraries
        handle requests, and potentially whitelist only certain safe URI
        types, such as <code>http</code> and <code>https</code>.
      </p>
    </section>

    <section id="security-recursive-objects">
      <h3 id="b-5-recursive-objects"><span class="secno">B.5 </span>Recursive Objects</h3>
      <p>
        Servers should set a limit on how deep to recurse while resolving objects,
        or otherwise specially handle ActivityStreams objects with recursive
        references.
        Failure to properly do so may result in denial-of-service security
        vulnerabilities.
      </p>
    </section>

    <section id="security-spam">
      <h3 id="b-6-spam"><span class="secno">B.6 </span>Spam</h3>
      <p>
        Spam is a problem in any network, perhaps especially so in federated
        networks.
        While no specific mechanism for combating spam is provided in
        ActivityPub, it is recommended that servers filter incoming content
        both by local untrusted users and any remote users through some
        sort of spam filter.
      </p>
    </section>

    <section id="security-federation-dos">
      <h3 id="b-7-federation-denial-of-service"><span class="secno">B.7 </span>Federation denial-of-service</h3>
      <p>
        Servers should implement protections against denial-of-service
        attacks from other, federated servers.
        This can be done using, for example, some kind of ratelimiting
        mechanism.
        Servers should be especially careful to implement this protection
        around activities that involve side effects.
        Servers <em class="rfc2119" title="SHOULD">SHOULD</em> also take care not to overload servers with
        submissions, for example by using an exponential backoff strategy.
      </p>
    </section>

    <section id="security-c2s-ratelimiting">
      <h3 id="b-8-client-to-server-ratelimiting"><span class="secno">B.8 </span>Client-to-server ratelimiting</h3>
      <p>
        Servers should ratelimit API client submissions.
        This serves two purposes:
      </p>
      <ol>
        <li>
          It prevents malicious clients from conducting
          denial-of-service attacks on the server.
        </li>
        <li>
          It ensures that the server will not distribute so many
          activities that it triggers another
          server's <a href="https://w3c.wholetrans.org/activitypub/#security-federation-dos">denial-of-service
            protections</a>.
        </li>
      </ol>
      <p></p>
    </section>

    <section id="security-c2s-response-dos">
      <h3 id="b-9-client-to-server-response-denial-of-service"><span class="secno">B.9 </span>Client-to-server response
        denial-of-service</h3>
      <p>
        In order to prevent a client from being overloaded by oversized
        Collections, servers should take care to limit the size of Collection
        pages they return to clients.
        Clients should still be prepared to limit the size of
        responses they are willing to handle in case they connect to malicious or
        compromised servers, for example by timing out and generating
        an error.
      </p>
    </section>

    <section id="security-sanitizing-content">
      <h3 id="b-10-sanitizing-content"><span class="secno">B.10 </span>Sanitizing Content</h3>
      <p>
        Any activity field being rendered for browsers (or other rich
        text enabled applications) should take care to sanitize fields
        containing markup to prevent cross site scripting attacks.
      </p>
    </section>

    <section id="security-not-displaying-bto-bcc">
      <h3 id="b-11-not-displaying-bto-and-bcc-properties"><span class="secno">B.11 </span>Not displaying bto and bcc
        properties</h3>
      <p>
        <code>bto</code> and <code>bcc</code> already
        <a href="https://w3c.wholetrans.org/activitypub/#remove-bto-bcc-before-delivery">must be removed for
          delivery</a>,
        but servers are free to decide how to represent the object
        in their own storage systems.
        However, since <code>bto</code> and <code>bcc</code> are only intended
        to be known/seen by the original author of the object/activity,
        servers should omit these properties during display as well.
      </p>
    </section>
  </section>

  <section class="appendix informative" id="acknowledgements">
    <!--OddPage-->
    <h2 id="c-acknowledgements"><span class="secno">C. </span>Acknowledgements</h2>
    <p><em>This section is non-normative.</em></p>
    <p>
      This specification comes from years of hard work and experience by a
      number of communities exploring the space of federation on the web.
      In particular, much of this specification is informed by
      <a href="https://www.w3.org/community/ostatus/wiki/Main_Page">OStatus</a>
      and the
      <a href="https://github.com/pump-io/pump.io/blob/master/API.md">Pump API</a>,
      as pioneered by StatusNet (now GNU Social) and Pump.io.
      Both of those initiatives were the product of many developers' hard work,
      but more than anyone, Evan Prodromou has been a constant leader in this
      space, and it is unlikely that ActivityPub would exist in something
      resembling its current state without his hard work.
    </p>

    <p>
      Erin Shepherd built the initial version of this specification, borrowed
      from the ideas in the
      <a href="https://github.com/pump-io/pump.io/blob/master/API.md">Pump API</a>
      document, mostly as a complete rewrite of text, but sharing most of
      the primary ideas while switching from ActivityStreams 1 to
      ActivityStreams 2.
    </p>

    <p>
      Jessica Tallon and Christine Lemmer-Webber took over as editors when
      the standard moved to the <abbr title="World Wide Web Consortium">W3C</abbr> Social Working Group and did the
      majority
      of transition from Erin Shepherd's document to its current state as
      ActivityPub.
      Much of the document was rewritten and reorganized under the long feedback
      process of the Social Working Group.
    </p>

    <p>
      ActivityPub has been shaped by the careful input of many members in the
      <abbr title="World Wide Web Consortium">W3C</abbr> Social Working Group.
      ActivityPub especially owes a great debt to Amy Guy, who has done more
      than anyone to map the ideas across the different Social Working Group
      documents through her work on [<cite><a class="bibref"
          href="https://w3c.wholetrans.org/activitypub/#bib-Social-Web-Protocols">Social-Web-Protocols</a></cite>].
      Amy also laid out the foundations for a significant refactoring of the
      ActivityPub spec while sprinting for four days with Christopher Allan
      Webber.
      These revisions lead to cleaner separation between the client to server
      and server components, along with clarity about ActivityPub's relationship
      to [<cite><a class="bibref" href="https://w3c.wholetrans.org/activitypub/#bib-LDN">LDN</a></cite>], among many
      other
      improvements.
      Special thanks also goes to Benjamin Goering for putting together the
      implementation report template.
      We also thank mray for producing the spectacular tutorial illustrations
      (which are licensed under the same license as the rest of this
      document).
    </p>

    <p>
      Many people also helped ActivityPub along through careful review.
      In particular, thanks to:
      Aaron Parecki,
      AJ Jordan,
      Benjamin Goering,
      Caleb Langeslag,
      Elsa Balderrama,
      elf Pavlik,
      Eugen Rochko,
      Erik Wilde,
      Jason Robinson,
      Manu Sporny,
      Michael Vogel,
      Mike Macgirvin,
      nightpool,
      Puck Meerburg,
      Sandro Hawke,
      Sarven Capadisli,
      Tantek Çelik, and
      Yuri Volkov.
    </p>

    <p>
      This document is dedicated to all citizens of planet Earth.
      You deserve freedom of communication; we hope we have contributed in
      some part, however small, towards that goal and right.
    </p>
  </section>


  <section id="references" class="appendix"><!--OddPage-->
    <h2 id="d-references"><span class="secno">D. </span>References</h2>
    <section id="normative-references">
      <h3 id="d-1-normative-references"><span class="secno">D.1 </span>Normative references</h3>
      <dl class="bibliography">
        <dt id="bib-Activity-Vocabulary">[Activity-Vocabulary]</dt>
        <dd><a href="https://www.w3.org/TR/activitystreams-vocabulary/"><cite>Activity Vocabulary</cite></a>. J. Snell.
          ActivityStreams Working Group. Editors Draft. URL: <a
            href="https://www.w3.org/TR/activitystreams-vocabulary/">https://www.w3.org/TR/activitystreams-vocabulary/</a>
        </dd>
        <dt id="bib-ActivityStreams">[ActivityStreams]</dt>
        <dd><a href="https://www.w3.org/TR/activitystreams-core/"><cite>Activity Streams 2.0</cite></a>. J. Snell.
          ActivityStreams Working Group. Editors Draft. URL: <a
            href="https://www.w3.org/TR/activitystreams-core/">https://www.w3.org/TR/activitystreams-core/</a>
        </dd>
        <dt id="bib-JSON-LD">[JSON-LD]</dt>
        <dd><a href="https://www.w3.org/TR/json-ld/"><cite>JSON-LD 1.0</cite></a>. Manu Sporny; Gregg Kellogg; Markus
          Lanthaler. W3C. 16 January 2014. W3C Recommendation. URL: <a
            href="https://www.w3.org/TR/json-ld/">https://www.w3.org/TR/json-ld/</a>
        </dd>
        <dt id="bib-LDN">[LDN]</dt>
        <dd><a href="https://www.w3.org/TR/ldn/"><cite>Linked Data Notifications</cite></a>. Sarven Capadisli; Amy Guy.
          W3C. 2 May 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/ldn/">https://www.w3.org/TR/ldn/</a>
        </dd>
        <dt id="bib-RFC2119">[RFC2119]</dt>
        <dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement
              Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
            href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
        </dd>
        <dt id="bib-RFC7231">[RFC7231]</dt>
        <dd><a href="https://tools.ietf.org/html/rfc7231"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and
              Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed.. IETF. June 2014. Proposed Standard. URL: <a
            href="https://tools.ietf.org/html/rfc7231">https://tools.ietf.org/html/rfc7231</a>
        </dd>
        <dt id="bib-RFC7234">[RFC7234]</dt>
        <dd><a href="https://tools.ietf.org/html/rfc7234"><cite>Hypertext Transfer Protocol (HTTP/1.1):
              Caching</cite></a>. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. IETF. June 2014. Proposed
          Standard. URL: <a href="https://tools.ietf.org/html/rfc7234">https://tools.ietf.org/html/rfc7234</a>
        </dd>
      </dl>
    </section>
    <section id="informative-references">
      <h3 id="d-2-informative-references"><span class="secno">D.2 </span>Informative references</h3>
      <dl class="bibliography">
        <dt id="bib-Micropub">[Micropub]</dt>
        <dd><a href="https://www.w3.org/TR/micropub/"><cite>Micropub</cite></a>. Aaron Parecki. W3C. 23 May 2017. W3C
          Recommendation. URL: <a href="https://www.w3.org/TR/micropub/">https://www.w3.org/TR/micropub/</a>
        </dd>
        <dt id="bib-RFC6749">[RFC6749]</dt>
        <dd><a href="https://tools.ietf.org/html/rfc6749"><cite>The OAuth 2.0 Authorization Framework</cite></a>. D.
          Hardt, Ed.. IETF. October 2012. Proposed Standard. URL: <a
            href="https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a>
        </dd>
        <dt id="bib-RFC6750">[RFC6750]</dt>
        <dd><a href="https://tools.ietf.org/html/rfc6750"><cite>The OAuth 2.0 Authorization Framework: Bearer Token
              Usage</cite></a>. M. Jones; D. Hardt. IETF. October 2012. Proposed Standard. URL: <a
            href="https://tools.ietf.org/html/rfc6750">https://tools.ietf.org/html/rfc6750</a>
        </dd>
        <dt id="bib-Social-Web-Protocols">[Social-Web-Protocols]</dt>
        <dd><a href="https://www.w3.org/TR/social-web-protocols/"><cite>Social Web Protocols</cite></a>. Amy Guy. W3C.
          25 December 2017. W3C Note. URL: <a
            href="https://www.w3.org/TR/social-web-protocols/">https://www.w3.org/TR/social-web-protocols/</a>
        </dd>
      </dl>
    </section>
  </section>
  <p role="navigation" id="back-to-top"><a href="https://w3c.wholetrans.org/activitypub/#toc"><abbr
        title="Back to Top">↑</abbr></a></p>
  <script src="./assets/fixup.js"></script>
</body>

</html>